!function(){var C,P,E,i,n,a,c,N,l,u,p,d,_,L,T,O,U;C=document.location.protocol.toString(),P=document.location.hostname.toString(),T={comments:!(L="spaces-dev.github.io"),blogsd:!(d=-1),readersd:!(E=216),favorite:!(_=p=u=l=N=0),blocked:!(c=a=n=i=null),rscroll:!1,hrightbar:!1,playerdn:!0,coins:!0,karma:!0,darkMode:!1,darkModeNav:!1,online:!0,ads:!0,myEvents:!0,friendsOn:!0,sticker:!0,fixes:!0,bodystyle:!0,bodystyleSetting:{url:"https://"+L+"/src/backgrounds/default.jpg",color:"#DAE1E8",urlchecked:!0,colorchecked:!1},events:{url:"https://"+L+"/src/sounds/default.ogg",volume:70,mail:!0,journal:!0,feed:!1,notifications:!1},friendsOnMax:10,friendsListSH:!0,friendsDisplay:!0,hideNotyf:{cookieEditor:!1},msgAlert:!0,msgAlertSettings:{alertPosition:4,maxAlert:3,animDelay:3,alertDelay:3},hideUp:null},O={comments:"Пакетное удаление комментариев",blogsd:"Пакетное удаление блогов",readersd:"Пакетное удаление читателей",darkMode:"Темная тема",friendsOn:"Панель друзей онлайн",myEvents:"Звук уведомлений",online:"Точное время онлайн в анкетах",ads:"Скрывать рекламу",favorite:"Возможность добавить пользователя в закладки",playerdn:"Кнопка загрузки трека из плеера",rscroll:"Прокрутка страницы справа",hrightbar:"Скрыть правое меню",blocked:"Открытые разделы удаленных пользователей",coins:"Собирать бонусные монеты",karma:"Собирать карму",bodystyle:"Фон сайта",msgAlert:"Уведомления почты",sticker:"Бесплатные стикеры",fixes:'Разные исправления <span onclick=\'alert("Используеться для отката неудачных обновлений сайта (недавнее изменение в шапке), в будущем данная функция будет пополняться новыми исправлениями.");\' style="cursor: help; float: right;" class="ico ico_question_light"></span>'},(U={ajax:function(e,o,t,i,n,a){n=void 0!==n?n:4;var s=new XMLHttpRequest;s.open(o,e,!0),a&&s.setRequestHeader("X-Proxy","spaces"),"POST"==o?(s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send(t)):s.send(),s.onreadystatechange=function(){if(s.readyState==n){if(200!=s.status)return!1;i&&i(s.responseText)}}},jajax:function(e,o){e=e.replace(/\#.*$/i,"")+(1<=e.indexOf("?")?"&json=1":"?json=1");var t=new XMLHttpRequest;t.open("GET",e,!0),t.setRequestHeader("X-Proxy","spaces"),t.send(null),t.onreadystatechange=function(){return 4!=t.readyState||200!=t.status?null:void(o&&o(t.responseText))}},getQuery:function(t){var e=document.location.search,i=null;try{return t=t.toLowerCase(),1<=e.toLowerCase().indexOf(t)&&e.substring(1).split("&").forEach(function(e){var o=e.split("=");o[0].toLowerCase()==t&&(i=o[1])}),i}catch(e){return U.console.error("Ошибка (GETQUERY): "+e.name+":"+e.message+"\n"+e.stack),null}},getPath:function(e){var o,t=document.location.pathname.toString();try{var i=t.replace(/\/\s*$/,"").split("/");switch(e){case"method":o=i[1];break;case"index":o=i[2];break;case"target":o=i[3]}return o}catch(e){return U.console.error("Ошибка (GETPATH): "+e.name+":"+e.message+"\n"+e.stack),null}},css:function(e,o){var t=o.split(";");for(var i in t)if(""!=U.trim(t[i])){var n=U.trim(t[i]).split(":");0<=n[0].indexOf("-")&&(n[0]=n[0].replace(/\-([a-z]{1})/g,function(e,o){return o.toUpperCase()})),void 0!==n[1]&&(e.style[U.trim(n[0])]=U.trim(n[1]))}},htmlspecialchars:function(e){return"string"==typeof e&&(e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace("\n","br/>")),e},rever:function(e){return e?e.toString().split("").join("."):e},ce:function(e,o){var t=document.createElement(e);if(o)for(var i in o)if("style"==i)U.css(t,o[i]);else if("attr"==i)for(var n in o[i])t.setAttribute(n,o[i][n]);else"html"==i?t.innerHTML=o[i]:"class"==i?t.className=o[i]:t[i]=o[i];return t},readSettings:function(){var e=U.getCookie("SP_PLUS_SET");try{e&&(e=JSON.parse(e),T=U.extend(T,e))}catch(e){U.console.error("Ошибка (READSETTINGS): "+e.name+":"+e.message+"\n"+e.stack)}},newbequest:function(){var o=U.qs("#sp_newbequest_togl");o&&U.jajax(C+"//"+P+"/mysite/",function(e){try{if(e){U.extend({owner_widget:{newbee_quest_widget:null}},JSON.parse(e)).owner_widget.newbee_quest_widget?o.style.display="":o.style.display="none"}}catch(e){U.console.error("Ошибка (NEWBEE_JSON): "+e.name+":"+e.message+"\n"+e.stack)}})},settings:function(){var e=document.location.pathname.toString(),v=document.location.href.toString();if("/settings/"==e&&!U.qs("#SP_PLUS_SETLINK"))try{var o=U.find(document.links,{href:C+"//"+P+"/settings/notification/?"});if(o){o=o[0];var y=U.getQuery("sp_plus_settings"),S=U.getQuery("sp_cookie_editor"),A=U.getQuery("sp_changelog"),w=U.getQuery("sp_backup"),t=U.ce("a",{href:C+"//"+P+"/settings/?sp_plus_settings=1",id:"SP_PLUS_SETLINK",class:o.className,html:'<span>Настройки Spaces+</span><span class="ico ico_arr ico_m"></span>',onclick:function(){var e=U.qs("#SP_PLUS_SETLINK").parentNode.parentNode.parentNode.parentNode,o=U.rever(20);if("main"==e.id){var t=U.qs("#header_path");t&&(t.innerHTML=t.innerHTML.replace("Настройки",'<a href="'+C+"//"+P+'/settings/" style="margin-bottom: 1px;">Настройки</a><span class="location-bar__sep ico"></span><span id="SP_PLUS_SETHEAD2">Spaces+</span>')),e.innerHTML='<div class="widgets-group widgets-group_top js-container__block"><div class="b-title cl b-title_center b-title_first oh"><div class="b-title__item">Настройки Spaces+<span class="js-cnt cnt cnt_title hide"></span></div></div><div class="content"><div class="list f-c_fll"> <div id="SP_PLUS_SETAREA"></div></div></div></div> <div id="SP_PLUS_ABOUT"></div> <a id="SP_PLUS_SETBACK" href="http://'+P+'/settings/?" class="link-return full_link"><span class="ico ico_arrow-back" style="margin: 0px 6px -1px 0px;"></span><span class="m">Назад</span></a>'}else"main"==e.className&&(e.innerHTML=e.firstElementChild.outerHTML.replace("Настройки",'Настройки <span style="color: #0000FF;">Spaces+</span>')+'<div class="start_page_padd light_blue_bg"><b id="SP_PLUS_SETHEAD">Настройки <span style="color: #0000FF;">Spaces+ '+o+'</span></b></div><div id="SP_PLUS_SETAREA"></div><a id="SP_PLUS_SETBACK" href="http://'+P+'/settings/?" class="link-return full_link"><span class="ico ico_arrow-back" style="margin: 0px 6px -1px 0px;"></span><span class="m">Назад</span></a>');var i=U.qs("#SP_PLUS_SETAREA");if(i){for(var n in T){if(void 0!==O[n])var a=U.ce("input",{id:"sp_set_"+n,type:"checkbox",class:"sp_plus_checkbox_el",checked:T[n],onclick:function(e){var o=e.target.id.split("_")[2];T[o]=e.target.checked;var t=JSON.stringify(T);if(U.setCookie("SP_PLUS_SET",t,null),"sp_set_rscroll"==e.target.id)U.scrollMove(e.target.checked);else if("sp_set_darkMode"==e.target.id)if(U.darkMode(e.target.checked),e.target.checked)U.darkModeNav(e.target);else{var i=U.qs("#SP_DARKMODE_WRAP");i&&U.remove(i)}else if("sp_set_hrightbar"==e.target.id)U.hiddenRightbar(e.target.checked);else if("sp_set_bodystyle"==e.target.id)if(e.target.checked)U.bgSettings(e.target);else{var n=U.qs("#SP_PLUS_BODYSTYLE");n&&U.remove(n)}else if("sp_set_myEvents"==e.target.id)if(e.target.checked)U.evenstSupport(e.target),U.alert("Звук уведомлений<div class='pad_t_a'></div><small class='pad_t_a grey'>В настройках сайта должен быть звук уведомлений <p style='color: #f86934;display: inline;font-weight: bold;'>выключен</p>. Разрешены аудиофайлы в форматах <b>.ogg</b>, <b>.mp3</b> или <b>.wav</b> Указывайте прямую ссылку на аудиофайл!<div class='pad_t_a'></small>Список фонов и звуков: <a href='https://"+L+"' target='_blank'>https://"+L+"</a></div>",1,1);else{N=0;var a=U.qs("#SP_PLUS_EVENTS"),s=U.qs("#SP_PLUS_ALERT");s&&U.remove(s),a&&U.remove(a)}else if("sp_set_friendsOn"==e.target.id)if(U.friendsOnline(e.target.checked),e.target.checked)U.setFriend(e.target);else{var r=U.qs("#SP_PLUS_MAXFRIENDS");r&&U.remove(r)}else if("sp_set_comments"==e.target.id)U.comments(e.target.checked);else if("sp_set_msgAlert"==e.target.id)if(e.target.checked)U.msgAlertSettings(e.target);else{var l=U.qs("#SP_PLUS_MSGALERTSETTINGS");l&&U.remove(l)}else"sp_set_sticker"==e.target.id&&U.freeSticker(e.target.checked)}}),s=U.ce("label",{html:O[n],attr:{for:"sp_set_"+n}}),r=U.ce("label",{class:"stnd-link bstrwrap"});void 0!==O[n]&&(r.appendChild(a),r.appendChild(s),i.appendChild(r),i.appendChild(r))}T.friendsOn&&U.setFriend(U.qs("#sp_set_friendsOn")),T.darkMode&&U.darkModeNav(U.qs("#sp_set_darkMode")),T.myEvents&&U.evenstSupport(U.qs("#sp_set_myEvents")),T.bodystyle&&U.bgSettings(U.qs("#sp_set_bodystyle")),T.msgAlert&&U.msgAlertSettings(U.qs("#sp_set_msgAlert"));var l=U.ce("div",{class:"sp_plus_line",html:"<span class='sp_plus_text'>Встроенные возможности сайта</span>"}),c=U.ce("div",{class:"sp_plus_line",html:"<span class='sp_plus_text'>Дополнительные функции</span>"}),p=U.ce("div",{class:"sp_plus_line",html:"<span class='sp_plus_text'>Прочее</span>"});i.appendChild(l),U.spacesAction(i),U.newbequest(),i.appendChild(c);var d=U.ce("a",{href:("http:"==C?"https:":"http:")+"//"+P+"/settings/?sp_plus_settings=1",class:"stnd-link stnd-link_arr disabled",id:"sp_protocol_togl",html:"<span class='b'><span class='"+("http:"==C?"ico ico_locked":"ico_chat ico_lock_open")+"'></span> Переключиться на "+("http:"==C?"HTTPS":"HTTP")+"-протокол<span class='ico ico_arr ico_m'></span></span>",style:"font-size: small;",onclick:function(){return!1}});i.appendChild(d);var _=U.ce("a",{href:C+"//"+P+"/settings/?sp_plus_settings=1&sp_cookie_editor=1",class:"stnd-link stnd-link_arr",id:"sp_cookie_editor",html:"<span class='b'><span class='ico ico_edit_dim'></span> Редактор Cookies<span class='ico ico_arr ico_m'></span></span>",style:"font-size: small; border-bottom: unset;",onclick:function(){var e=U.qs("#SP_PLUS_SETHEAD"),o=U.qs("#SP_PLUS_SETHEAD2"),t=U.qs("#SP_PLUS_SETBACK");return e&&(e.innerHTML='<a href="http://'+P+'/settings/?sp_plus_settings=1" style="margin-bottom: 1px;">Spaces+</a><span class="location-bar__sep ico"></span> Редактор cookies'),o&&(o.innerHTML='<a href="http://'+P+'/settings/?sp_plus_settings=1" style="margin-bottom: 1px;">Spaces+</a><span class="location-bar__sep ico"></span> Редактор cookies'),t&&(t.href=C+"//"+P+"/settings/?sp_plus_settings=1"),/(\?|&)sp_cookie_editor=1/i.test(v)||U.historyPush({sp_plus_settings:y,sp_cookie_editor:S},C+"//"+P+"/settings/?sp_plus_settings=1&sp_cookie_editor=1","Spaces+: Редактор Cookies"),U.cookieEditor("#SP_PLUS_SETAREA"),!1}});i.appendChild(_),i.appendChild(p);var b=U.ce("a",{href:C+"//"+P+"/settings/?sp_plus_settings=1&sp_backup=1",class:"stnd-link stnd-link_arr",id:"sp_backup",html:"<span class='b' style='color: #4c9d4c;'><span class='ico_backup'></span> Импорт и экспорт настроек<span class='ico ico_arr ico_m'></span></span>",style:"font-size: small;",onclick:function(){var e=U.qs("#SP_PLUS_SETHEAD"),o=U.qs("#SP_PLUS_SETHEAD2"),t=U.qs("#SP_PLUS_SETBACK");return e&&(e.innerHTML='<a href="http://'+P+'/settings/?sp_plus_settings=1" style="margin-bottom: 1px;">Spaces+</a><span class="location-bar__sep ico"></span> Импорт и экспорт'),o&&(o.innerHTML='<a href="http://'+P+'/settings/?sp_plus_settings=1" style="margin-bottom: 1px;">Spaces+</a><span class="location-bar__sep ico"></span> Импорт и экспорт'),t&&(t.href=C+"//"+P+"/settings/?sp_plus_settings=1"),/(\?|&)sp_backup=1/i.test(v)||U.historyPush({sp_plus_settings:y,sp_backup:w},C+"//"+P+"/settings/?sp_plus_settings=1&sp_backup=1","Spaces+: Импорт и экспорт"),U.backup("#SP_PLUS_SETAREA"),!1}});i.appendChild(b);var u=U.ce("a",{href:C+"//"+P+"/settings/?sp_plus_settings=1&sp_changelog=1",class:"stnd-link stnd-link_arr",id:"sp_changelog",html:"<span class='b' style='color: #57a3ea;'><span class='ico ico_history_blue'></span> История обновлений<span class='ico ico_arr ico_m'></span></span>",style:"font-size: small;",onclick:function(){var e=U.qs("#SP_PLUS_SETHEAD"),o=U.qs("#SP_PLUS_SETHEAD2"),t=U.qs("#SP_PLUS_SETBACK");return e&&(e.innerHTML='<a href="http://'+P+'/settings/?sp_plus_settings=1" style="margin-bottom: 1px;">Spaces+</a><span class="location-bar__sep ico"></span> История обновлений'),o&&(o.innerHTML='<a href="http://'+P+'/settings/?sp_plus_settings=1" style="margin-bottom: 1px;">Spaces+</a><span class="location-bar__sep ico"></span> История обновлений'),t&&(t.href=C+"//"+P+"/settings/?sp_plus_settings=1"),/(\?|&)sp_changelog=1/i.test(v)||U.historyPush({sp_plus_settings:y,sp_changelog:A},C+"//"+P+"/settings/?sp_plus_settings=1&sp_changelog=1","Spaces+: История обновлений"),U.changeLog("#SP_PLUS_SETAREA"),!1}});i.appendChild(u);var g=U.ce("a",{href:"#",class:"stnd-link stnd-link_arr",id:"sp_plus_reset",html:"<span class='b' style='color: #f86934;'><span class='ico ico_alert'></span> Сброс настроек<span class='ico ico_arr ico_m'></span></span>",style:"font-size: small;",onclick:function(){return U.confirmm("Вы действительно хотите сбросить настройки?",warn=!0,function(){U.delCookie("SP_PLUS_SET"),U.delCookie("SP_PLUS_ONLINE"),U.delCookie("gp_left_btn"),U.delCookie("force_ajax_transport"),U.delCookie("beta"),document.location.reload()}),!1}});i.appendChild(g);var k=U.ce("div",{class:"widgets-group widgets-group_top nl wbg"}),m=U.ce("div",{class:"content-item3"}),f=U.ce("div",{class:"grey",html:"Developed by <a href='https://crashmax.ru' target='_blank'>crashmax</a> with love ❤️"}),h=U.ce("div",{style:"float: right;",html:"v"+U.rever(20)+"."+U.rever(E)}),x=U.qs("#SP_PLUS_ABOUT");k.appendChild(m),m.appendChild(f),f.appendChild(h),x.appendChild(k)}return!1}});if(U.inBefore(t,o),"BR"==o.nextElementSibling.nodeName&&U.insertAfter(U.ce("br",null),t),y){document.title="Настройки Spaces+";var i=document.createEvent("MouseEvent");if(i.initEvent("click",!0,!0),t.dispatchEvent(i),/#([da-z0-9\_]+)$/i.test(v)){var n=/#([da-z0-9\_]+)$/i.exec(v)[0],a=U.qs(n);a&&("#sp_protocol_togl"==n||"#sp_plus_reset"==n||"#sp_cookie_editor"==n||"#wrap_spaces_option"==n?a.style.backgroundColor="#FFC107":a.nextElementSibling.style.backgroundColor="#FFC107",setTimeout(function(){window.scrollTo(0,a.offsetTop)},100))}else if(S){document.title="Spaces+: Редактор Cookies",(s=document.createEvent("MouseEvent")).initEvent("click",!0,!0),U.qs("#sp_cookie_editor").dispatchEvent(s)}else if(A){document.title="Spaces+: История обновлений",(s=document.createEvent("MouseEvent")).initEvent("click",!0,!0),U.qs("#sp_changelog").dispatchEvent(s)}else if(w){var s;document.title="Spaces+: Импорт и экспорт настроек",(s=document.createEvent("MouseEvent")).initEvent("click",!0,!0),U.qs("#sp_backup").dispatchEvent(s)}}}}catch(e){U.console.error("Ошибка (SETTINGS): "+e.name+":"+e.message+"\n"+e.stack)}},notifications:function(o,t,i){try{"Notification"in window?"granted"===Notification.permission.toLowerCase()?U.notificationShow(o,t,i):"denied"!==Notification.permission.toLowerCase()?Notification.requestPermission(function(e){"granted"===e.toLowerCase()?U.notificationShow(o,t,i):U.alert("Вы <b style='color: #800;'>запретили</b> показывать уведомления для сайта "+P+"!<br/>Зайдите в настройки браузера и настройте доступ.",1,null)}):U.alert("Разрешите браузеру показывать уведомления с сайта "+P+", чтобы пользоваться функцией!",1,null):U.alert("Ваш браузер не поддерживает уведомления!",1,null)}catch(e){U.console.error("Ошибка (NOTIFICATIONS): "+e.name+":"+e.message+"\n"+e.stack)}},notificationShow:function(e,o,t){try{var i=new Notification(e,o);null!=t&&(i.onclick=function(e){e.preventDefault(),U.setLocation(t),e.target.close()})}catch(e){U.console.error("Ошибка (NOTIFICATION_SHOW): "+e.name+":"+e.message+"\n"+e.stack)}},setFriend:function(e){try{var o=U.ce("div",{id:"SP_PLUS_MAXFRIENDS"}),t=U.ce("div",{style:"padding: 11px 15px;"}),i=U.ce("label",{class:"stnd-link",style:"border-top: unset;"}),n=U.ce("input",{type:"text",class:"text-input",size:4,value:T.friendsOnMax});n.onchange=n.oninput=function(e){if(!isNaN(e.target.value)){var o=parseInt(e.target.value,10);(15<o||o<1)&&(o=10),l=0,T.friendsOnMax=o;var t=JSON.stringify(T);U.setCookie("SP_PLUS_SET",t,null),U.friendsOnline(1)}};var a=U.ce("label",{html:'Выводить друзей:<div class="label__desc">от 1 до 15</div>',class:"label"}),s=U.ce("input",{type:"checkbox",id:"sp_friends_list_sh",class:"sp_plus_checkbox_el",checked:T.friendsListSH,onclick:function(e){T.friendsListSH=e.target.checked;var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null)}}),r=U.ce("label",{attr:{for:"sp_friends_list_sh"},html:"Скрывать/показывать по клику на счётчике"});t.appendChild(a),t.appendChild(n),i.appendChild(s),i.appendChild(r),o.appendChild(t),o.appendChild(i),U.insertAfter(o,e.parentNode)}catch(e){U.console.error("Ошибка (FRIENDS_MAX_SUPPORT): "+e.name+":"+e.message+"\n"+e.stack)}},bgSettings:function(e){try{var o=U.ce("div",{id:"SP_PLUS_BODYSTYLE"}),t=U.ce("div",{class:"bstrwrap",style:"border-bottom: unset; padding: 15px;"}),i=U.ce("div",{class:"text-input__wrap"}),n=U.ce("label",{class:"stnd-link",style:"border-bottom: unset;"}),a=U.ce("label",{class:"stnd-link",style:"border-bottom: unset;"}),s=U.ce("label",{html:'Ссылка на изображение:<div class="label__desc">.jpg или .png</div>',style:"margin-right: -17px;",class:"label"}),r=U.ce("label",{html:'Цвет фона:<div class="label__desc">#RRGGBB</div>',style:"margin-right: -17px;",class:"label"}),l=U.ce("input",{type:"text",value:T.bodystyleSetting.url,style:"margin-bottom: 7px;",class:"text-input"});l.onchange=l.oninput=function(e){if(U.isValidUrl(e.target.value)||""==e.target.value){e.target.style.backgroundColor="",T.bodystyleSetting.url=U.trim(e.target.value);var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null),U.setStyle()}else e.target.style.backgroundColor="#FF7C7C"};var c=U.ce("input",{type:"text",class:"text-input",id:"color-input",value:T.bodystyleSetting.color});c.onchange=c.oninput=function(e){if(/^\#([A-Za-z0-9]{3}|[A-Za-z0-9]{6})$/i.test(e.target.value)||""==e.target.value){e.target.style.backgroundColor="",T.bodystyleSetting.color=U.trim(e.target.value);var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null),U.setStyle()}else e.target.style.backgroundColor="#FF7C7C"};var p=U.ce("input",{type:"radio",id:"sp_set_bodystyle_URL",checked:T.bodystyleSetting.urlchecked,class:"sp_plus_checkbox_radio",onclick:function(e){T.bodystyleSetting.urlchecked=e.target.checked,e.target.checked&&d.checked&&(d.checked=!1,T.bodystyleSetting.colorchecked=!1);var o=JSON.stringify(T);if(U.setCookie("SP_PLUS_SET",o,null),1==T.bodystyleSetting.urlchecked)U.setStyle(),U.bgImage(e.target);else{var t=U.qs("#SP_WRAP_IMAGE");t&&U.remove(t)}}}),d=U.ce("input",{type:"radio",id:"sp_set_bodystyle_color",checked:T.bodystyleSetting.colorchecked,class:"sp_plus_checkbox_radio",onclick:function(e){T.bodystyleSetting.colorchecked=e.target.checked,e.target.checked&&p.checked&&(p.checked=!1,T.bodystyleSetting.urlchecked=!1);var o=JSON.stringify(T);if(U.setCookie("SP_PLUS_SET",o,null),1==T.bodystyleSetting.colorchecked)U.setStyle(),U.bgColor(e.target);else{var t=U.qs("#SP_WRAP_COLOR");t&&U.remove(t)}}}),_=U.ce("label",{attr:{for:"sp_set_bodystyle_URL"},html:"Изображение"}),b=U.ce("label",{attr:{for:"sp_set_bodystyle_color"},html:"Цвет"});i.appendChild(s),i.appendChild(l),i.appendChild(r),i.appendChild(c),n.appendChild(p),n.appendChild(_),a.appendChild(d),a.appendChild(b),t.appendChild(i),o.appendChild(t),o.appendChild(n),o.appendChild(a),U.insertAfter(o,e.parentNode),T.bodystyleSetting.urlchecked&&U.bgImage(),T.bodystyleSetting.colorchecked&&U.bgColor()}catch(e){U.console.error("Ошибка (BODYSTYLE_SET): "+e.name+":"+e.message+"\n"+e.stack)}},bgColor:function(e){try{if(!U.qs("#SP_WRAP_COLOR")){U.qs("#SP_WRAP_IMAGE")&&(U.remove(U.qs("#SP_WRAP_IMAGE")),U.remove(U.qs("#SP_PLUS_IMAGE_STYLE")));var o=U.ce("link",{rel:"stylesheet",type:"text/css",id:"SP_PLUS_CP_STYLE",href:"https://beta.spac.me/css/custom/CommentWidget/Toolbar.css"});document.getElementsByTagName("head")[0].appendChild(o);var t=U.qs("#SP_PLUS_BODYSTYLE"),i=U.ce("div",{id:"SP_WRAP_COLOR"}),n=U.ce("table",{class:"table__wrap bb-colorpicker"}),a=U.ce("tbody"),s=U.ce("tr"),r=U.ce("td",{class:"table__cell"}),l=U.ce("div",{class:"stnd-block",html:'<div><div style="background-color:#90CAF9" data-tag="fon" data-val="#90CAF9" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#80DEEA" data-tag="fon" data-val="#80DEEA" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#A5D6A7" data-tag="fon" data-val="#A5D6A7" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#FFF59D" data-tag="fon" data-val="#FFF59D" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#FFCC80" data-tag="fon" data-val="#FFCC80" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#FFAB91" data-tag="fon" data-val="#FFAB91" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#CE93D8" data-tag="fon" data-val="#CE93D8" class="js-bb_color toolbar-color pointer"></div> </div> <div> <div style="background-color:#2196F3" data-tag="fon" data-val="#2196F3" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#00BCD4" data-tag="fon" data-val="#00BCD4" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#4CAF50" data-tag="fon" data-val="#4CAF50" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#FFEB3B" data-tag="fon" data-val="#FFEB3B" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#FF9800" data-tag="fon" data-val="#FF9800" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#F44336" data-tag="fon" data-val="#F44336" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#9C27B0" data-tag="fon" data-val="#9C27B0" class="js-bb_color toolbar-color pointer"></div> </div> <div> <div style="background-color:#1565C0" data-tag="fon" data-val="#1565C0" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#00838F" data-tag="fon" data-val="#00838F" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#2E7D32" data-tag="fon" data-val="#2E7D32" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#F9A825" data-tag="fon" data-val="#F9A825" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#EF6C00" data-tag="fon" data-val="#EF6C00" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#C62828" data-tag="fon" data-val="#C62828" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#6A1B9A" data-tag="fon" data-val="#6A1B9A" class="js-bb_color toolbar-color pointer"></div> </div> <div> <div style="background-color:#ECF0F1" data-tag="fon" data-val="#ECF0F1" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#CFD8DC" data-tag="fon" data-val="#CFD8DC" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#B0BEC5" data-tag="fon" data-val="#B0BEC5" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#97A6B0" data-tag="fon" data-val="#97A6B0" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#546E7A" data-tag="fon" data-val="#546E7A" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#44565E" data-tag="fon" data-val="#44565E" class="js-bb_color toolbar-color pointer"></div> <div style="background-color:#3A474C" data-tag="fon" data-val="#3A474C" class="js-bb_color toolbar-color pointer"></div></div>'});r.appendChild(l),s.appendChild(r);var c=U.ce("td",{class:"table__cell table__cell_last"}),p=U.ce("div",{class:"stnd-block"}),d=U.ce("div",{class:"js-bb_colorpicker"});p.appendChild(d),c.appendChild(p),s.appendChild(c),a.appendChild(s),n.appendChild(a),i.appendChild(n),t.appendChild(i);var _=d;setTimeout(function(){var i=new CP(_,!1,_);document.getElementById("color-input").onchange=document.getElementById("color-input").oninput=function(e){if(/^\#([A-Za-z0-9]{3}|[A-Za-z0-9]{6})$/i.test(e.target.value)||""==e.target.value){e.target.style.backgroundColor="",T.bodystyleSetting.color=U.trim(e.target.value);var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null),U.setStyle(),i.set(T.bodystyleSetting.color)}else e.target.style.backgroundColor="#FF7C7C",i.set("FF7C7C")},i.enter(),i.set(T.bodystyleSetting.color),i.on("change",function(e){document.getElementsByClassName("text-input")[3].value="#"+e,document.querySelector("input[name=color]").value="#"+e,document.getElementsByClassName("colorpicker-color")[0].style.backgroundColor="#"+e,T.bodystyleSetting.color="#"+e;var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null),U.setStyle()});for(var e=document.getElementsByClassName("js-bb_color toolbar-color pointer"),o=0;o<e.length;o++)e[o].onclick=function(e){var o=e.target.getAttribute("data-val");document.getElementsByClassName("text-input")[3].value=o,document.querySelector("input[name=color]").value=o,document.getElementsByClassName("colorpicker-color")[0].style.backgroundColor=o,T.bodystyleSetting.color=o;var t=JSON.stringify(T);U.setCookie("SP_PLUS_SET",t,null),U.setStyle(),i.set(o)}},25)}}catch(e){U.console.error("Ошибка (BODYSTYLE_COLOR_SET): "+e.name+":"+e.message+"\n"+e.stack)}},bgImage:function(e){try{if(!U.qs("#SP_WRAP_IMAGE")){U.qs("#SP_WRAP_COLOR")&&(U.remove(U.qs("#SP_WRAP_COLOR")),U.remove(U.qs("#SP_PLUS_CP_STYLE")));var o=U.ce("link",{rel:"stylesheet",type:"text/css",id:"SP_PLUS_IMAGE_STYLE",href:"https://"+L+"/src/styles/bodystyle.css"});document.getElementsByTagName("head")[0].appendChild(o);var r=U.qs("#SP_PLUS_BODYSTYLE"),l=U.ce("div",{id:"SP_WRAP_IMAGE"}),c=U.ce("div",{class:"js-gallery_skip wbg oh tiles_block tiles_wrapper"});U.ajax("https://"+L+"/data.json","GET",null,function(e){e=JSON.parse(e);for(var o=0;o<e.backgrounds.length;o++){var t=U.ce("div",{class:"js-file_item tiled_item tiled_item-200"}),i=U.ce("div",{class:"tiled_inner t_center relative"}),n=U.ce("span",{class:"relative",style:"display: inline-block;max-width: 100%; width: 100%;"}),a=U.ce("div",{class:"tiled-preview border"}),s=U.ce("img",{class:"preview s201_200",style:"cursor: pointer;",src:e.backgrounds[o].url,onclick:function(e){document.getElementsByClassName("text-input")[2].value=e.target.src,T.bodystyleSetting.url=e.target.src;var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null),U.setStyle()}});a.appendChild(s),n.appendChild(a),i.appendChild(n),t.appendChild(i),c.appendChild(t)}l.appendChild(c),r.appendChild(l)},4)}}catch(e){U.console.error("Ошибка (BODYSTYLE_IMAGE_SET): "+e.name+":"+e.message+"\n"+e.stack)}},evenstSupport:function(e){try{var o=U.ce("div",{id:"SP_PLUS_EVENTS"}),t=U.ce("input",{type:"checkbox",id:"sp_event_notif",class:"sp_plus_checkbox_el",checked:T.events.notifications,onclick:function(t){if(!("Notification"in window))return U.alert("Ваш браузер не поддерживает уведомления!",1,null),!1;if("granted"===Notification.permission.toLowerCase()){T.events.notifications=t.target.checked;var e=JSON.stringify(T);U.setCookie("SP_PLUS_SET",e,null)}else{if("denied"===Notification.permission.toLowerCase())return U.alert("Вы <b style='color: #800;'>запретили</b> показывать уведомления для сайта "+P+"!<br/>Зайдите в настройки браузера и настройте доступ (для Google Chrome включите HTTPS-протокол).",1,null),!1;Notification.requestPermission(function(e){if("granted"!==e.toLowerCase())return U.alert("Разрешите браузеру показывать уведомления с сайта "+P+", чтобы пользоваться функцией!",1,null),!1;T.events.notifications=t.target.checked;var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null)})}}}),i=U.ce("label",{attr:{for:"sp_event_notif"},html:"Уведомления в браузере"}),n=U.ce("label",{html:'Ссылка на аудиофайл:<div class="label__desc">.ogg или .wav</div>',style:"margin-right: -17px;",class:"label"}),a=U.ce("label",{html:"Громкость:",class:"label"}),s=U.ce("div",{class:"text-input__wrap",style:"margin: 15px;"}),r=U.ce("div",{style:"margin: 15px;"}),l=U.ce("label",{class:"stnd-link",style:"border-top: unset; border-bottom: unset;"}),c=U.ce("label",{class:"stnd-link",style:"border-top: unset; border-bottom: unset;"}),p=U.ce("label",{class:"stnd-link",style:"border-top: unset; border-bottom: unset;"}),d=U.ce("label",{class:"stnd-link",style:"border-top: unset; border-bottom: unset;"}),_=U.ce("input",{type:"text",value:T.events.url,class:"text-input"});_.onchange=_.oninput=function(e){if(U.isValidUrl(e.target.value)&&/\.(ogg|mp3|wav)$/i.test(e.target.value)||""==U.trim(e.target.value)){T.events.url=U.trim(e.target.value);var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null)}else e.target.style.backgroundColor="#FF7C7C"};var b=U.ce("span",{class:"text-input__btn",html:'<span class="js-ico ico ico_demo"></span>',style:"margin-left: 7px; font-size: small; top: 23px",title:"Прослушать",onclick:function(e){return U.sound(T.events.url+"?r="+U.rand(1e3,9999),T.events.volume),!1}}),u=U.ce("div",{class:"label__desc",html:T.events.volume+"%"}),g=U.ce("input",{type:"range",min:0,max:100,step:1,value:T.events.volume});g.onchange=g.oninput=function(e){if(!isNaN(e.target.value)){var o=parseInt(e.target.value,10);(o<0||100<o)&&(o=70),u.innerHTML=o+"%",T.events.volume=o;var t=JSON.stringify(T);U.setCookie("SP_PLUS_SET",t,null)}};var k=U.ce("input",{type:"checkbox",id:"sp_event_mail",class:"sp_plus_checkbox_el",checked:T.events.mail,onclick:function(e){T.events.mail=e.target.checked;var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null)}}),m=U.ce("label",{attr:{for:"sp_event_mail"},html:"Уведомлять о почте"}),f=U.ce("input",{type:"checkbox",id:"sp_event_journal",class:"sp_plus_checkbox_el",checked:T.events.journal,onclick:function(e){T.events.journal=e.target.checked;var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null)}}),h=U.ce("label",{attr:{for:"sp_event_journal"},html:"Уведомлять о журнале"}),x=U.ce("input",{type:"checkbox",id:"sp_event_feed",class:"sp_plus_checkbox_el",checked:T.events.feed,onclick:function(e){T.events.feed=e.target.checked;var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null)}}),v=U.ce("label",{attr:{for:"sp_event_feed"},html:"Уведомлять о ленте"});s.appendChild(n),s.appendChild(_),s.appendChild(b),a.appendChild(u),r.appendChild(a),r.appendChild(g),o.appendChild(s),o.appendChild(r),l.appendChild(t),l.appendChild(i),c.appendChild(k),c.appendChild(m),p.appendChild(f),p.appendChild(h),d.appendChild(x),d.appendChild(v),o.appendChild(l),o.appendChild(c),o.appendChild(p),o.appendChild(d),U.insertAfter(o,e.parentNode)}catch(e){U.console.error("Ошибка (EVENTS_SUP): "+e.name+":"+e.message+"\n"+e.stack)}},historyPush:function(e,o,t){try{document.title=t,history.pushState(e,t,o)}catch(e){U.console.error("Ошибка (HISTORY): "+e.name+":"+e.message+"\n"+e.stack)}},remove:function(e){return e.parentNode.removeChild(e)},isInteger:function(e){return(0^e)===e},wrap:function(e,o){return o=o||U.ce("div",null),e.nextSibling?U.inBefore(o,e.nextSibling):e.parentNode.appendChild(o),o.appendChild(e)},is_array:function(e){return e instanceof Array},scrollMove:function(e){try{var o=U.qs("#scroll_page");o&&!o.hasAttribute("sp-replace")&&e?(o.style.left="auto",o.style.right="0",o.setAttribute("sp-replace","1")):!T.rscroll&&o&&o.hasAttribute("sp-replace")&&!e&&(o.style.left="0",o.style.right="auto",o.removeAttribute("sp-replace"))}catch(e){U.console.error("Ошибка (SCROLLER): "+e.name+":"+e.message+"\n"+e.stack)}},hiddenRightbar:function(e){try{var o=U.qs("#page_rightbar");o&&!o.hasAttribute("sp-hidden-rightbar")&&e?(o.style.display="none",o.setAttribute("sp-hidden-rightbar","1")):!T.hrightbar&&o&&o.hasAttribute("sp-hidden-rightbar")&&!e&&(o.style.display="block",o.removeAttribute("sp-hidden-rightbar"))}catch(e){U.console.error("Ошибка (HRIGHTBAT): "+e.name+":"+e.message+"\n"+e.stack)}},cookieEditor:function(e){window.scrollTo(0,0);var o=U.allCookie(),t=U.qs(e);if(t)try{if(t.innerHTML="",!T.hideNotyf.cookieEditor){var i=U.ce("img",{class:"p16 m pointer right",style:"padding: 10px;",src:C+"//spac.me/i/remove.png",title:"Понятно, больше не показывать.",onclick:function(e){T.hideNotyf.cookieEditor=!0;var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null),U.cookieEditor("#SP_PLUS_SETAREA")}}),n=U.ce("div",{class:"stnd-block-yellow",style:"padding: 15px;",html:'<span class="ico ico_alert"></span>Никому не сообщайте значения ваших cookies! Не делайте скриншот этой страницы, на котором будут видны эти значения! От этого зависит безопасность вашего аккаунта!'}),a=U.ce("div");a.appendChild(i),t.appendChild(a),a.appendChild(n)}var s=U.ce("div",{style:"text-align: center; padding-top: 10px;"}),r=U.ce("input",{type:"text",class:"text-input",placeholder:"Имя",style:"width: 30%; margin: 3px;"}),l=U.ce("input",{type:"text",class:"text-input",placeholder:"Значение",style:"width: 30%; margin: 3px;"}),c=U.ce("button",{html:'<span class="sp_plus_ico_okb"></span> Добавить',class:"black",style:"max-width: 30%; margin: 3px; padding: 5px 3px 3px 7px; font-size: 14px;",onclick:function(e){var o="SPAN"==e.target.nodeName?e.target.parentNode.previousElementSibling:e.target.previousElementSibling,t=U.htmlspecialchars(U.trim(o.previousElementSibling.value)),i=U.htmlspecialchars(U.trim(o.value));"SP_PLUS_ONLINE"==t||"SP_PLUS_SET"==t?U.alert("Это служебное значение скрипта, не изменяйте его!",1,null):""!=t?U.confirmm(("SP_PLUS_ONLINE"==t||"SP_PLUS_SET"==t?"<b style='color: #FF0000;'>Внимание, <span style='color: #0000FF;'>\""+t+'"</span> является служебным значение скрипта, не стоит его изменять!</b><br/>':"")+"Хотите добавить куку <span style='color: #0000FF;'>\""+t+"\"</span> со значением <span style='color: #0000FF;'>\""+i+'"</span>?',function(){U.setCookie(o.previousElementSibling.value,o.value,null),U.cookieEditor("#SP_PLUS_SETAREA")}):U.alert("Задайте имя cookie!",1,null)}});for(var p in s.appendChild(r),s.appendChild(l),s.appendChild(c),t.appendChild(s),t.appendChild(U.ce("div",{class:"sp_plus_line",html:'<span class="sp_plus_text">Список существующий cookies</span>'})),o)if("SP_PLUS_ONLINE"!=p&&"SP_PLUS_SET"!=p){var d=U.ce("div",{class:"text-input__wrap",style:"text-align: center;"}),_=U.ce("input",{type:"text",class:"text-input",placeholder:"Имя",attr:{readonly:"readonly"},value:p,style:"width: 30%; margin: 3px;",onclick:function(e){e.target.select()}}),b=U.ce("input",{type:"text",class:"text-input",placeholder:"Значение",value:o[p],style:"width: 30%; margin: 3px;"}),u=U.ce("button",{html:"<span class='sp_plus_ico_del'></span>",title:"Удалить",style:"max-width: 15%; margin: 3px; padding: 5px 3px 3px 7px; font-size: 14px;",onclick:function(e){var o="SPAN"==e.target.nodeName?e.target.parentNode.previousElementSibling.previousElementSibling:e.target.previousElementSibling.previousElementSibling,t=U.htmlspecialchars(U.trim(o.value));"SP_PLUS_ONLINE"==t||"SP_PLUS_SET"==t?U.alert("Это служебное значение скрипта, не удаляйте его!",1,null):""!=t?U.confirmm(("SP_PLUS_ONLINE"==t||"SP_PLUS_SET"==t?"<b style='color: #FF0000;'>Внимание, <span style='color: #0000FF;'>\""+t+'"</span> является служебным значение скрипта, не стоит его удалять!</b><br/>':"")+"Хотите удалить куку <span style='color: #0000FF;'>\""+t+'"</span>?',function(){U.delCookie(o.value),U.cookieEditor("#SP_PLUS_SETAREA")}):U.alert("Пустую куку удалить?! Ты, блять, серьёзно???",1,null)}}),g=U.ce("button",{title:"Сохранить",html:"<span class='sp_plus_ico_okb'></span>",style:"max-width: 15%; margin: 3px; padding: 5px 3px 3px 7px; font-size: 14px;",onclick:function(e){var o="SPAN"==e.target.nodeName?e.target.parentNode.previousElementSibling.previousElementSibling:e.target.previousElementSibling.previousElementSibling,t=U.htmlspecialchars(U.trim(o.previousElementSibling.value)),i=U.htmlspecialchars(U.trim(o.value));"SP_PLUS_ONLINE"==t||"SP_PLUS_SET"==t?U.alert("Это служебное значение скрипта, не изменяйте его!",1,null):""!=t?U.confirmm(("SP_PLUS_ONLINE"==t||"SP_PLUS_SET"==t?"<b style='color: #FF0000;'>Внимание, <span style='color: #0000FF;'>\""+t+'"</span> является служебным значение скрипта, не стоит его изменять!</b><br/>':"")+"Хотите задать куке <span style='color: #0000FF;'>\""+t+"\"</span> значение <span style='color: #0000FF;'>\""+i+'"</span>?',function(){U.setCookie(o.previousElementSibling.value,o.value,null),U.cookieEditor("#SP_PLUS_SETAREA")}):U.alert("Имя не должно быть пустым!",1,null)}});d.appendChild(_),d.appendChild(b),d.appendChild(u),d.appendChild(g),t.appendChild(d)}}catch(e){U.console.error("Ошибка (COOKIE_EDITOR): "+e.name+":"+e.message+"\n"+e.stack)}},spacesAction:function(e){var o=U.ce("div",{id:"wrap_spaces_option"}),t=U.ce("a",{href:'javascript:var Arr=[\'<div class="time-block" style="text-align: left;" id="wrap_spacesAction_AD"><a href="#" id="api_debug-button">API-Debugger</a><div id="api_debug-place"></div></div>\',"append","parent","#navi","debugger"];$(Arr[3])[Arr[2]]()[Arr[1]](Arr[0]),require(Arr[4]);void(0);',class:"stnd-link stnd-link_arr",id:"sp_spacesAction_AD",html:'<span class="b"><span class="ico ico_settings"></span> API-Отладчик<span class="ico ico_arr ico_m"></span></span>',style:"font-size: small;",onclick:function(){var e=U.qs("#wrap_spacesAction_AD");return!e||(U.remove(e),U.setLocation(document.location.href),!1)}}),i=U.getCookie("beta"),n=U.ce("a",{href:"#",class:"stnd-link stnd-link_arr",id:"sp_spacesAction_beta",html:i?"<span class='b'><span class='ico ico_exit'></span> Выйти из песочницы<span class='ico ico_arr ico_m'></span></span>":"<span class='b'><span class='ico ico_enter_grey'></span> Beta-песочница<span> - открытое тестирование нововведений сайта<span class='ico ico_arr ico_m'></span></span></span>",style:"font-size: small;",onclick:function(){return i?U.delCookie("beta"):U.setCookie("beta","1",null),document.location.reload(),!1}}),a=U.getCookie("force_ajax_transport"),s=U.ce("a",{href:"#",class:"stnd-link stnd-link_arr",id:"sp_spacesFAT",html:a?"<span class='b'><span class='ico' style='background-image: url(\"//spac.me/i/remove.png\");'></span> Убрать полосу загрузки<span class='ico ico_arr ico_m'></span></span>":"<span class='b'><span class='ico ico_ok_grey'></span> Добавить полосу загрузки страницы<span class='ico ico_arr ico_m'></span><span>",style:"font-size: small;",onclick:function(){return a?U.delCookie("force_ajax_transport"):U.setCookie("force_ajax_transport","1",null),document.location.reload(),!1}}),r=U.getCookie("gp_left_btn"),l=U.ce("a",{href:"#",class:"stnd-link stnd-link_arr",id:"sp_spacesGLB",html:r?"<span class='b'><span class='ico' style='background-image: url(\"//spac.me/i/remove.png\");'></span> Убрать плеер из панели<span class='ico ico_arr ico_m'></span></span>":"<span class='b'><span class='ico ico_ok_grey'></span> Переместить плеер - переносит кнопку открытия плеера в левую панель<span class='ico ico_arr ico_m'></span></span>",style:"border-bottom: unset; font-size: small;",onclick:function(){return r?U.delCookie("gp_left_btn"):U.setCookie("gp_left_btn","1",null),document.location.reload(),!1}}),c=U.ce("a",{href:C+"//"+P+"/newbequest/?r=newbequest/delete",style:"border-bottom: unset; display: none; font-size: small;",id:"sp_newbequest_togl",class:"stnd-link stnd-link_arr sp_plus_liness",html:"<span class='b'><span class='ico' style='background-image: url(\"//spac.me/i/remove.png\");'></span> Скрыть квест новичка<span class='ico ico_arr ico_m'></span></span>",onclick:function(){var e=U.getCK(0);return U.confirmm("Хотите удалить квест новичка?",function(){U.ajax(C+"//"+P+"/newbequest/delete/?CK="+e+"&link_id=0","GET",null,function(){U.alert("Квест новичка скрыт!",1,null)},2),setTimeout(function(){U.newbequest()},1e3)}),!1}});o.appendChild(t),o.appendChild(n),o.appendChild(s),o.appendChild(l),o.appendChild(c),e.appendChild(o)},setLocation:function(e){e=e||document.location.href.toString();var o=U.qs("#SP_PLUS_SETLOCATIONLINK"),t=document.createEvent("MouseEvent");t.initEvent("click",!0,!0),o?o.href=e:(o=U.ce("a",{href:e,style:"display: none;",id:"SP_PLUS_SETLOCATIONLINK"}),document.body.appendChild(o)),o.dispatchEvent(t)},isValidUrl:function(e){return/^(?:(?:https?|ftp|telnet):\/\/(?:[а-я0-9_-]{1,32}(?::[а-я0-9_-]{1,32})?@)?)?(?:(?:[а-я0-9-]{1,128}\.)+(?:рф)|(?! 0)(?:(?! 0[^.]|255)[ 0-9]{1,3}\.){3}(?! 0|255)[ 0-9]{1,3})(?:\/[a-zа-я0-9.,_@%&?+=\~\/-]*)?(?:#[^ \'\"&<>]*)?$/i.test(e)||/^(?:(?:https?|ftp|telnet):\/\/(?:[a-z0-9_-]{1,32}(?::[a-z0-9_-]{1,32})?@)?)?(?:(?:[a-z0-9-]{1,128}\.)+(?:com|net|org|mil|edu|arpa|ru|gov|biz|info|aero|inc|name|[a-z]{2})|(?! 0)(?:(?! 0[^.]|255)[ 0-9]{1,3}\.){3}(?! 0|255)[ 0-9]{1,3})(?:\/[a-zа-я0-9.,_@%&?+=\~\/-]*)?(?:#[^ \'\"&<>]*)?$/i.test(e)},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},rand:function(e,o){return Math.round(Math.random()*(o-e))+e},inBefore:function(e,o){return o.parentNode.insertBefore(e,o)},insertAfter:function(e,o){var t=o.parentNode,i=o.nextSibling;if(t)return i?t.insertBefore(e,i):t.appendChild(e)},qs:function(e){return document.querySelector(e)},getClassName:function(e,o){e=e.split(".");for(var t=new Array,i=document.getElementsByTagName(e[0]),n=0;n<i.length;n++)0<=i[n].className.indexOf(e[1])&&!o?t.push(i[n]):i[n].className==e[1]&&o&&t.push(i[n]);return t[0]?t:null},declOfNum:function(e,o){return o[4<e%100&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]},console:{info:function(e){var o=new Date;e="("+(o.getHours()<10?"0":"")+o.getHours()+":"+(o.getMinutes()<10?"0":"")+o.getMinutes()+":"+(o.getSeconds()<10?"0":"")+o.getSeconds()+") "+e,console.info(e),o=null},error:function(e){var o=new Date;e="("+(o.getHours()<10?"0":"")+o.getHours()+":"+(o.getMinutes()<10?"0":"")+o.getMinutes()+":"+(o.getSeconds()<10?"0":"")+o.getSeconds()+") "+e,console.error(e),o=null},log:function(e){var o=new Date;e="("+(o.getHours()<10?"0":"")+o.getHours()+":"+(o.getMinutes()<10?"0":"")+o.getMinutes()+":"+(o.getSeconds()<10?"0":"")+o.getSeconds()+") "+e,console.log(e),o=null},debug:function(e){var o=new Date;e="("+(o.getHours()<10?"0":"")+o.getHours()+":"+(o.getMinutes()<10?"0":"")+o.getMinutes()+":"+(o.getSeconds()<10?"0":"")+o.getSeconds()+") "+e,console.debug(e),o=null}},time2str:function(e){var o=parseInt(e,10);if(isNaN(o))return U.console.info(o),null;var t=parseFloat(o/3600).toFixed(2).toString();return(t=t.split("."))[0]+" ч, "+parseInt(t[1]/(100/60),10)+" мин"},setSelection:function(e){var o,t;document.createRange?((o=document.createRange()).selectNode(e),(t=window.getSelection()).removeAllRanges(),t.addRange(o)):((o=document.body.createTextRange()).moveToElementText(e),o.select())},sound:function(e,o){try{var t=new Audio(e);t.volume=o/100,t.play()}catch(e){U.console.error("Ошибка (SOUND): "+e.name+":"+e.message+"\n"+e.stack)}},events:function(){try{var e={mail:U.qs("#mail_notif_cnt"),journal:U.qs("#jour_notif_cnt"),feed:U.qs("#lent_notif_cnt")},o=U.getCookie("spacesactive"),t=0;for(var i in e)e[i]&&T.events[i]&&""!=e[i].innerHTML&&!isNaN(e[i].innerHTML)&&(t+=parseInt(e[i].innerHTML,10));if(N<t){if("false"==o&&(U.sound(T.events.url+"?r="+U.rand(1e3,9999),T.events.volume),T.events.notifications)){var n=U.declOfNum(t,["новое событие","новых события","новых событий"]);U.notifications("Новые события на Spaces!",{body:"У Вас "+t+" "+n+"!",icon:"data:image/png;base64,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",tag:"events"},null)}N=t,U.console.info("Новые события: "+t+", вкладка активна: "+o)}else t<N&&(N=t,U.console.info("Скидываем счётчик до: "+t))}catch(e){U.console.error("Ошибка (EVENTS): "+e.name+":"+e.message+"\n"+e.stack)}},friendsOnline:function(e){var s=U.qs("#friends_cnt"),r=U.qs("#SP_PLUS_FRIENDSSB"),o=0;if(s&&!isNaN(s.innerHTML)&&(o=parseInt(s.innerHTML,10)),s)try{if(T.friendsListSH?r&&(s.parentNode.title||(s.parentNode.title="Скрыть список"),s.parentNode.hasAttribute("sp-click-el")||(s.parentNode.onclick=function(e){return"none"!=r.style.display?(r.style.display="none",e.target.parentNode.title="Показать список"):(r.style.display="",e.target.parentNode.title="Скрыть список"),!1},s.parentNode.setAttribute("sp-click-el","1"))):(s.parentNode.title="",s.parentNode.removeAttribute("sp-click-el"),s.parentNode.onclick=null,r&&"none"==r.style.display&&(r.style.display="")),e)if(0<o){if(p++,o!=l||0<o&&!r||700<=p){700<=p&&(p=0,U.console.info("[S+] Принудительно обновляем друзей!")),l=o;var t=s.parentNode.parentNode.parentNode;r=r||U.ce("div",{id:"SP_PLUS_FRIENDSSB",class:"list-link__wrap"}),U.jajax(C+"//"+P+"/friends/?S=3",function(e){try{var a=U.extend({tabbed_panel:{tabs:[null,{content:{list:null}}]}},JSON.parse(e)).tabbed_panel.tabs[1].content.list;a?U.jajax(C+"//"+P+"/friends/?P=2&S=3",function(e){var o=U.getClassName("span.s_i s_i_friends"),t=U.extend({tabbed_panel:{tabs:[null,{content:{list:{avatar:[null,{previewURL:null,name:null}],online_label:[null,{online_status:null,on_img:null}]}}}]}},JSON.parse(e)).tabbed_panel.tabs[1].content.list;t=t?U.extend(a,t):a,r.innerHTML="";var i=T.friendsOnMax>t.length?t.length:T.friendsOnMax;l!=t.length&&_<3?(_++,setTimeout(function(){l=t.length,U.console.info("[S+] Количество друзей не точное, пробуем еще раз ("+_+" из 3)")},1e3)):l==t.length&&(_=0);for(var n=0;n<i;n++)r.appendChild(U.ce("a",{href:C+"//"+P+"/mysite/index/"+t[n].name+"/",class:"li",html:'<span class="comm_ava m for_avatar '+o+'"><img src="'+t[n].avatar.previewURL+'" alt="" class="preview s21_20"></span><span class="online-status m"><img class="p14 online_status_ico" src="'+C+"//spac.me/i/"+t[n].online_status.on_img+'" alt="(ON)"></span><span class="block-item__title m break-word">'+t[n].name+"</span>"}));s.parentNode.removeAttribute("sp-click-el"),U.console.info("[S+] Обновили список друзей!")}):U.remove(r)}catch(e){U.console.error("Ошибка (FRIENDS_ONLINE_JSON): "+e.name+":"+e.message+"\n"+e.stack)}}),t.appendChild(r)}}else 0==o&&r&&U.remove(r);else r&&(U.remove(r),l=0,U.console.info("[S+] Убрали панель друзей!")),s.parentNode.onclick=null,s.parentNode.removeAttribute("sp-click-el"),p=0}catch(e){U.console.error("Ошибка (FRIENDS_ONLINE): "+e.name+":"+e.message+"\n"+e.stack)}},online:function(){var e=document.location.pathname.toString(),o=U.getPath("target"),t="/anketa/index/"+o+"/";if(e==t)try{var a=U.getClassName("div.info-item__title",1);o&&a&&i!=o&&(i=o,U.jajax(C+"//"+P+"/anketa/index/"+o+"/",function(e){if(e)try{var o=U.extend({user_widget:{online_time:null}},JSON.parse(e));if(o.user_widget.online_time){var t=U.time2str(o.user_widget.online_time);for(var i in a)if("Время онлайн:"==a[i].innerHTML){var n=a[i].nextElementSibling||a[i].nextSibling;3==n.nodeType?n.data=" "+t:n.innerHTML=t,U.console.info("[S+] Время онлайн: "+t)}}}catch(e){U.console.error("Ошибка (JSON_ONLINE): "+e.name+":"+e.message+"\n"+e.stack)}}))}catch(e){U.console.error("Ошибка (ONLINE): "+e.name+":"+e.message+"\n"+e.stack)}else e!=t&&(i=null)},favorite:function(){var e=document.location.href,o=document.location.pathname.toString();e!=C+"//"+P+"/bookmarks/add/?irb526786=1"||a||(a=e,U.setLocation(C+"//"+P+"/bookmarks/?irb526786=1"));var t=null;if("/anketa/"==o){var i=document.links;t=(t=U.find(i,{href:C+"//"+P+"/bookmarks/add/?"}))||U.find(i,{href:C+"//"+P+"/bookmarks/edit/?"})}if("/mysite/"!=o&&"/anketa/"!=o&&"/activity/"!=o||t||n==e)"/mysite/"!=o&&"/anketa/"!=o&&"/activity/"!=o&&(n=null);else{var s=U.qs("#SP_PLUS_INFAVORITE");n=e;try{var r=U.getQuery("user");r=r||(U.getQuery("name")||U.service(0));var l=U.getClassName("td.table__cell table__cell_last",1);r&&l&&l[0].innerHTML.indexOf("Вперёд")<0&&!s&&U.jajax(C+"//"+P+"/anketa/?user="+r,function(e){if(e)try{var o,t=U.extend({user_widget:{id:null}},JSON.parse(e));if(t.user_widget.id){o="A"==l[0].firstElementChild.nodeName?l[0].firstElementChild.className.split(" ")[0]:"stnd-link";var i=s||U.ce("td",{class:"table__cell",id:"SP_PLUS_INFAVORITE"});i.innerHTML='<a href="'+C+"//"+P+"/bookmarks/add/?object_id="+t.user_widget.id+'&object_type=11" class="'+o+'" title="Добавить в закладки"><span class="ico ico_fav_grey js-ico"></span> B закладки</a>',U.isFav(t.user_widget.id,i,r,'<span class="ico ico_fav_on js-ico"></span><span style="color: #61a961;"> В закладках</span>'),s||U.inBefore(i,l[0]);var n=l[0].parentNode.childNodes;for(var a in n)"TD"==n[a].nodeName&&(n[a].width="25%")}}catch(e){U.console.error("Ошибка (JSON_FAVORITE): "+e.name+":"+e.message+"\n"+e.stack)}})}catch(e){U.console.error("Ошибка (FAVORITE): "+e.name+":"+e.message+"\n"+e.stack)}}},isFav:function(e,i,n,a){U.jajax(C+"//"+P+"/bookmarks/add/?object_id="+e+"&object_type=11",function(e){if(e)try{var o=U.extend({delete_link:{delete_URL:null}},JSON.parse(e));if(o.delete_link.delete_URL){var t=o.delete_link.delete_URL.replace(/&amp;/g,"&");i.firstElementChild.href=t,i.firstElementChild.title="Удалить из закладок",i.firstElementChild.innerHTML=a,i.firstElementChild.onclick=function(){return U.confirmm("Хотите удалить пользователя "+n+" из закладок?",function(){U.setLocation(t)}),!1}}}catch(e){U.console.error("Ошибка (JSON_ISFAVORITE): "+e.name+":"+e.message+"\n"+e.stack)}})},bannedHTML:function(e,o,t,i){return o?'<div class="widgets-group links-group">'+(i?'<span id="SP_PLUS_INFAV"><a href="'+C+"//"+P+"/bookmarks/add/?object_id="+i+'&object_type=11" id="SP_PLUS_INFAV" class="list-link list-link_arrow list-link_first"><span class="ico ico_fav_grey js-ico"></span> Добавить в закладки<span class="ico ico_arr"></span></a></span>':"")+'<a href="'+C+"//"+P+"/gifts/user_list/?user="+e+'" class="list-link list-link_arrow list-link_first"><span class="ico ico_gifts_blue"></span> Подарки<span class="ico ico_arr"></span></a>'+(t?"":'<a href="'+C+"//"+P+"/guestbook/?name="+e+'" class="list-link list-link_arrow list-link_first"><span class="ico ico_gb"></span> Гостевая<span class="ico ico_arr"></span></a><a href="'+C+"//"+P+"/diary/?name="+e+'" class="list-link list-link_arrow"><span class="ico ico_blog"></span> Личный блог<span class="ico ico_arr"></span></a>')+'<a href="'+C+"//"+P+"/forums/search_user/?Comm=0&Ext=1&Link_id=363467&query="+e+'" class="list-link list-link_arrow"><span class="ico ico_forum"></span> Темы и комментарии <span class="ico ico_arr"></span></a>'+(t?"":'<div class="sep-item"></div><a href="'+C+"//"+P+"/pictures/?P=1&amp;name="+e+'" class="list-link list-link_arrow"><span class="ico ico_photo"></span> Фотографии<span class="ico ico_arr"></span></a><a href="'+C+"//"+P+"/music/?P=1&amp;name="+e+'" class="list-link list-link_arrow"><span class="ico ico_music"></span> Музыка<span class="ico ico_arr"></span></a><a href="'+C+"//"+P+"/video/?P=1&amp;name="+e+'" class="list-link list-link_arrow"><span class="ico ico_video"></span> Видео<span class="ico ico_arr"></span></a><a href="'+C+"//"+P+"/files/?P=1&amp;name="+e+'" class="list-link list-link_arrow"><span class="ico ico_file"></span> Файлы<span class="ico ico_arr"></span></a>')+'<div class="sep-item"></div><a href="'+C+"//"+P+"/comm/?List=1&user="+e+'" class="list-link list-link_arrow"><span class="ico ico_comm"></span> Сообщества<span class="ico ico_arr"></span></a><a href="'+C+"//"+P+"/friends/?name="+e+'&amp;p=1" class="list-link list-link_arrow"><span class="ico ico_friends"></span> Друзья<span class="ico ico_arr"></span></a><a href="'+C+"//"+P+"/lenta/readers/?user="+e+'" class="list-link list-link_arrow"><span class="ico ico_readers"></span> Читатели<span class="ico ico_arr"></span></a></div>':'<div class="no_underline_block start_page_padd light_border_bottom" style="padding-top:1px;">'+(i?'<div id="SP_PLUS_INFAV"><a href="'+C+"//"+P+"/bookmarks/add/?object_id="+i+'&object_type=11"><img src="'+C+'//spac.me/i/action_fav_gray.gif" alt="" class="m p16"> <span class="m"> Добавить в закладки</span></a></div>':"")+'<div><a href="'+C+"//"+P+"/gifts/user_list/?user="+e+'"><img src="'+C+'//spac.me/i/sendgift.gif" alt="" class="m p16"> <span class="m">Подарки</span></a></div>'+(t?"":'<div> <a href="'+C+"//"+P+"/guestbook/?name="+e+'&amp;p=0"><img src="'+C+'//spac.me/i/guestbook.gif" alt="" class="m p16"> <span class="m">Гостевая</span></a></div><div> <a href="'+C+"//"+P+"/diary/?name="+e+'"><img src="'+C+'//spac.me/i/diary.gif" alt="" class="m p16"> <span class="m">Блог</span></a></div>')+'</div><div class="no_underline_block start_page_padd light_blue light_border_bottom">'+(t?"":'<div> <a href="'+C+"//"+P+"/pictures/?P=1&amp;name="+e+'"><img src="'+C+'//spac.me/i/PhotoIcon.gif" alt="" class="m p16"> <span class="m">Фото</span></a></div><div> <a href="'+C+"//"+P+"/music/?P=1&amp;name="+e+'"><img src="'+C+'//spac.me/i/file_mp3.gif" alt="" class="m p16"> <span class="m">Музыка</span></a></div><div> <a href="'+C+"//"+P+"/video/?P=1&amp;name="+e+'"><img src="'+C+'//spac.me/i/icon_video.gif" alt="" class="m p16"> <span class="m">Видео</span></a></div><div> <a href="'+C+"//"+P+"/files/?P=1&amp;name="+e+'"><img src="'+C+'//spac.me/i/film.gif" alt="" class="m p16"> <span class="m">Файлы</span></a></div>')+'<div> <a href="'+C+"//"+P+"/forums/search_user/?Comm=0&Ext=1&word="+e+'"><img src="'+C+'//spac.me/i/Forum.gif" alt="" class="m p16"> <span class="m">Темы и комментарии</span></a> </div></div><div class="no_underline_block start_page_padd light_border_bottom"><div> <a href="'+C+"//"+P+"/friends/?name="+e+'"><img src="'+C+'//spac.me/i/friends.gif" alt="" class="m p16"> <span class="m">Друзья</span></a></div><div> <a href="'+C+"//"+P+"/comm/?List=1&user="+e+'"> <img src="'+C+'//spac.me/i/soo.gif" alt="" class="m p16"> <span class="m">Сообщества</span></a></div><div> <a href="'+C+"//"+P+"/lenta/readers/?user="+e+'"><img src="'+C+'//spac.me/i/icon_readers.gif" alt="" class="m p16"> <span class="m">Читатели</span></a></div></div>'},bannedTools:function(){var e=document.location.href.replace(/\#.*$/i,""),o=document.location.pathname.toString(),s=U.getPath("target"),t="/mysite/index/"+s+"/",r=!0,l=U.qs("#SP_PLUS_BNDBLOCK");if(o==t&&c!=e)try{s=s||(U.getPath("target")||U.service(0)),c=e,l&&U.remove(l),s&&U.jajax(C+"//"+P+"/mysite/index/"+s+"/",function(e){try{if(e){var o=U.qs("#siteContent");o||(o=U.getClassName("div.main",null))&&(o=o[0],r=!1);var t=U.extend({owner_id:null,owner_widget:{ban_info:{deleted:null,frozen:null,blocked:null}}},JSON.parse(e));if(t.owner_widget.ban_info&&t.owner_id&&o){var i=!1,n=t.owner_id;t.owner_widget.ban_info.deleted?U.console.info("[S+] Аккаунт удален!"):t.owner_widget.ban_info.frozen?U.console.info("[S+] Аккаунт покинут!"):t.owner_widget.ban_info.blocked&&(U.console.info("[S+] Аккаунт забанен!"),i=!0);var a=l||U.ce("div",{id:"SP_PLUS_BNDBLOCK"});a.innerHTML=U.bannedHTML(s,r,i,n),l||o.appendChild(a),n&&U.isFav(n,U.qs("#SP_PLUS_INFAV"),s,r?'<span class="ico ico_fav_on js-ico"></span> Удалить из закладок<span class="ico ico_arr"></span>':'<img src="'+C+'//spac.me/i/action_fav_color.gif" alt="" class="m p16"> <span class="m"> Удалить из закладок</span>')}}}catch(e){U.console.error("Ошибка (JSON_BLOCKED): "+e.name+":"+e.message+"\n"+e.stack)}})}catch(e){U.console.error("Ошибка (BLOCKED): "+e.name+":"+e.message+"\n"+e.stack)}else o!=t&&(l&&U.remove(l),c=null)},extend:function(e,o){if(o)for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t]);return e},service:function(e){try{var o=document.getElementsByTagName("script").item(0);if(e){if(/REVISION\s?=\s?'(.*?)'/i.test(o.innerHTML)){var t=U.trim(/REVISION\s?=\s?'(.*?)'/i.exec(o.innerHTML)[1]);return""==t?null:t}return null}if(/name:'(.*?)'/i.test(o.innerHTML)){var i=U.trim(/name:'(.*?)'/i.exec(o.innerHTML)[1]);return""==i?null:i}return null}catch(e){return null}},getCK:function(e){var o=U.getCookie("sid");return e?o:o.substr(-4)},allCookie:function(){var e=new Object,o=document.cookie;if(o&&""!=U.trim(o))for(var t=o.split(";"),i=0;i<t.length;i++){var n=U.trim(t[i]);if(""!=n){var a=n.split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}}return e},getCookie:function(e){var o=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return o?decodeURIComponent(o[1]):void 0},delCookie:function(e){U.setCookie(e,null,{expires:-1})},setCookie:function(e,o,t){!(t=U.extend({path:"/",expires:365,secure:!1,domain:"."+P},t)).expires||t.expires instanceof Date||(t.expires=new Date(+new Date+864e5*t.expires));var i=encodeURIComponent(e)+"="+encodeURIComponent(o);t.expires&&(i+="; expires="+t.expires.toUTCString()),t.domain&&(i+="; domain="+t.domain),t.path&&(i+="; path="+t.path),t.secure&&(i+="; secure"),document.cookie=i},find:function(e,o){for(var t=new Array,i=0;i<e.length;i++)for(var n in o)0<=e[i][n].indexOf(o[n])&&t.push(e[i]);return t[0]?t:null},readersDelete:function(){if("/lenta/readers/"==document.location.pathname.toString()&&!U.qs("#SP_PLUS_BOTTOM_DIVB"))try{var e=U.find(document.links,{href:C+"//"+P+"/lenta/reader_delete/?"});if(e&&!U.qs("#SP_PLUS_BOTTOM_DIVB")){var a=U.getCK(0),s=new Array;for(var o in e){e[o].style.textAlign="center";var t=U.ce("label",{class:"stnd-link icon-link",style:"right: 50px; top: -42px; padding-left: 8px; padding-right: 8px;"}),i=U.ce("input",{type:"checkbox",id:"SP_DR_"+/(\?|&)user=([A-Za-z0-9\_]+)/i.exec(e[o].href)[2],class:"sp_plus_checkbox"}),n=U.ce("label",{style:"margin-left: 0px;",attr:{for:"SP_DR_"+/(\?|&)user=([A-Za-z0-9\_]+)/i.exec(e[o].href)[2]}});t.appendChild(i),t.appendChild(n),U.insertAfter(t,e[o]),s.push(i)}var r=e[e.length-1].parentNode;if(r=r&&r.parentNode){var l=U.ce("div",{class:"user__tools_last",id:"SP_PLUS_BOTTOM_DIVB"}),c=U.ce("button",{class:"user__tools-link table__cell",style:"width: 50%; display: inline-block; box-sizing: border-box;",html:'<span class="sp_plus_ico_okb"></span><span style="color: #57A3EA;">Выбрать все</span>',onclick:function(e){for(var o="SPAN"==e.target.nodeName?e.target.parentNode:e.target,t=0;t<s.length;t++)0<=o.innerHTML.indexOf("Выбрать все")?s[t].checked=!0:s[t].checked=!1;return o.innerHTML='<span class="sp_plus_ico_okb"></span><span style="color: #57A3EA;">'+(0<=o.innerHTML.indexOf("Выбрать все")?"Снять отметки":"Выбрать все")+"</span>",!1}}),p=U.ce("button",{class:"user__tools-link table__cell sp_btn_line",style:"width: 50%; display: inline-block; box-sizing: border-box;",html:'<span class="sp_plus_ico_del"></span><span style="color: #F86934;">Удалить выбранных</span>',onclick:function(){var t=0,i=new Array;c.innerHTML='<span class="sp_plus_ico_okb"></span><span style="color: #57A3EA;">Выбрать все</span>';for(var e=0;e<s.length;e++)if(1==s[e].checked){var o=/^SP_DR_([A-Za-z0-9\_]+)$/i.exec(s[e].id)[1];i.push(o),s[e].checked=!1,t++}if(0<t){var n=U.declOfNum(t,["я","я","ей"]);U.confirmm("Вы действительно хотите удалить "+t+" читател"+n+"?",warn=!0,function(){var e=setInterval(function(){U.alert("Процесс...<div class='pad_t_a'></div><small>Удаляем читателей <span class='ico ico_spinner'></span></small>",0,null);var o=i[--t];U.ajax(C+"//"+P+"/lenta/reader_delete/?user="+o,"POST","&CK="+a+"&cfms=Удалить",function(e){U.console.info("[S+] Удалили читателей: "+o)},2),t<1&&(i=null,clearInterval(e),document.location.reload())},500)})}else U.alert("Ошибка!<div class='pad_t_a'></div><small>Не выбрано ни одного читателя.</small>",1,null);return!1}});l.appendChild(p),l.appendChild(c),U.insertAfter(l,r)}else{for(o=0;o<s.length;o++)s[o].style.display="none";l=U.ce("div",{style:"display: none;",id:"SP_PLUS_BOTTOM_DIVB"});document.body.appendChild(l)}}}catch(e){U.console.error("Ошибка (READERS): "+e.name+":"+e.message+"\n"+e.stack)}},blogsDelete:function(){var e=document.location.pathname.toString().split("/");if("diary"==e[1]&&null==e[2]||"diary"==e[1]&&"view"==e[2]&&!U.qs("#SP_PLUS_BOTTOM_DIVB"))try{var o=U.find(document.links,{href:C+"//"+P+"/diary/editaccess/?id="});if(o&&!U.qs("#SP_PLUS_BOTTOM_DIVB")){for(var a=U.getCK(0),s=new Array,t=0;t<o.length;t++)if(o[t].className){o[t].style.textDecoration="none";var i=U.ce("input",{type:"checkbox",id:"SP_DB_"+/\?id=([0-9]+)/i.exec(o[t].href)[1],class:"sp_plus_checkbox"}),n=U.ce("label",{attr:{for:"SP_DB_"+/\?id=([0-9]+)/i.exec(o[t].href)[1]}});U.insertAfter(i,o[t]),U.insertAfter(n,i),s.push(i)}var r=s[s.length-1].parentNode;if(r=(r=(r=r&&r.parentNode)&&r.parentNode)&&r.parentNode.parentNode){var l=U.ce("div",{class:"widgets-group user__tools_last",id:"SP_PLUS_BOTTOM_DIVB"}),c=U.ce("button",{class:"user__tools-link table__cell",style:"width: 50%; display: inline-block; box-sizing: border-box;",html:'<span class="sp_plus_ico_okb"></span><span style="color: #57A3EA;">Выбрать все</span>',onclick:function(e){for(var o="SPAN"==e.target.nodeName?e.target.parentNode:e.target,t=0;t<s.length;t++)0<=o.innerHTML.indexOf("Выбрать все")?s[t].checked=!0:s[t].checked=!1;return o.innerHTML='<span class="sp_plus_ico_okb"></span><span style="color: #57A3EA;">'+(0<=o.innerHTML.indexOf("Выбрать все")?"Снять отметки":"Выбрать все")+"</span>",!1}}),p=U.ce("button",{class:"user__tools-link table__cell sp_btn_line",style:"width: 50%; display: inline-block; box-sizing: border-box;",html:'<span class="sp_plus_ico_del"></span><span style="color: #F86934;">Удалить выбранные</span>',onclick:function(){var t=0,i=new Array;c.innerHTML='<span class="sp_plus_ico_okb"></span><span style="color: #57A3EA;">Выбрать все</span>';for(var e=0;e<s.length;e++)if(1==s[e].checked){var o=/^SP_DB_([0-9]+)$/i.exec(s[e].id)[1];i.push(o),s[e].checked=!1,t++}if(0<t){var n=U.declOfNum(t,["","а","ов"]);U.confirmm("Хотите удалить "+t+" блог"+n+"?",function(){var e=setInterval(function(){U.alert("Удаляем блоги: <span style='color: #1cc61c;'>"+t+"</span><br/><a href='#' onclick='return false;' id='SP_PLUS_CANCEL' class='sp_plus_a'>Отмена</a>",0,null);var o=i[--t];U.ajax(C+"//"+P+"/diary/delete/?r=diary/delete","POST","CK="+a+"&id="+o+"&Sure=1",function(e){U.console.info("[S+] Блог удален: "+o)},2),U.qs("#SP_PLUS_CANCEL").onclick=function(){i=null,clearInterval(e),U.alert("Отменено!<br/><a href='"+document.location.href.replace(/\#.*$/i,"")+"' onclick='document.body.removeChild(this.parentNode); return true;' class='sp_plus_a'>Обновить страницу</a>",1,null)},t<1&&(i=null,clearInterval(e),U.alert("Готово!<br/><a href='"+document.location.href.replace(/\#.*$/i,"")+"' onclick='document.body.removeChild(this.parentNode); return true;' class='sp_plus_a'>Обновить страницу</a>",1,null))},500)})}else U.alert("Не выбрано ни одного блога!",1,null);return!1}});l.appendChild(p),l.appendChild(c),U.insertAfter(l,r)}else{for(t=0;t<s.length;t++)s[t].style.display="none";l=U.ce("div",{style:"display: none;",id:"SP_PLUS_BOTTOM_DIVB"});document.body.appendChild(l)}}}catch(e){U.console.error("Ошибка (BLOGS): "+e.name+":"+e.message+"\n"+e.stack)}},prompt:function(e,o){e=e||"",o=o||"";var t=prompt(e,o);return null==t?"":t},icon:function(e){return e?'<span class="sp_plus_ico_info"></span> ':'<span class="sp_plus_ico_alert"></span> '},confirmm:function(e,o,t){var i=U.ce("button",{html:"Да",href:"#",class:"btn btn_red btn_input"}),n=U.ce("a",{html:"Отмена",href:"#",class:"btn btn_white btn_input right sticker-close_btn"}),a=U.ce("small",{class:"pad_t_a grey",html:"Это действие нельзя будет отменить."}),s=U.ce("div",{class:"content-item3 wbg oh",html:e+"<div class='pad_t_a'></div>"}),r=U.ce("div",{class:"pad_t_a"});i.onclick=function(){var e=U.qs("#SP_PLUS_CONFIRM");return!e||(t(),U.remove(e),!1)},n.onclick=function(){var e=U.qs("#SP_PLUS_CONFIRM");return!e||(U.remove(e),!1)};var l=U.qs("#SP_PLUS_CONFIRM");l||(l=U.ce("div",{class:"sticker",id:"SP_PLUS_CONFIRM"}),o&&s.appendChild(a),s.appendChild(r),s.appendChild(i),s.appendChild(n),l.appendChild(s),document.body.appendChild(l))},alert:function(e,o,t){var i=U.ce("div",{class:"sticker w400"}),n=U.qs("#SP_PLUS_ALERT");n||(n=U.ce("div",{class:"content-item3 wbg oh",id:"SP_PLUS_ALERT",html:(o?'<img src="'+C+'//spac.me/i/remove.png" alt="" class="pointer right notif_close" onclick="document.body.removeChild(this.parentNode.parentNode);" title="Закрыть" />':"")+e}),i.appendChild(n),document.body.appendChild(i)),t||setTimeout(function(){U.qs("#SP_PLUS_ALERT")&&U.qs("#SP_PLUS_ALERT").parentNode.parentNode.removeChild(i)},4e3)},comments:function(){var e=U.getClassName("span.comment_date",null),o=U.qs("#SP_PLUS_BOTTOM_DIV");try{if(e){if(!o||e.length!=u){u=e.length;var t=null,i=U.qs("div.js-comments-pgn"),s=U.find(document.getElementsByTagName("input"),{name:"del_comment_"});if(s){for(var n=U.find(s[0].parentNode.parentNode.parentNode.getElementsByTagName("a"),{innerHTML:"Удалить"}),a=0;a<s.length;a++)if(!s[a].id||!/^DC_\d+$/i.test(s[a].id)){var r=U.ce("label",{attr:{for:"DC_"+s[a].value}});s[a].id="DC_"+s[a].value,s[a].className="sp_plus_checkbox",U.insertAfter(r,s[a])}}else for(var l=0;l<e.length;l++){if((t=U.find(e[l].parentNode.parentNode.parentNode.parentNode.getElementsByTagName("a"),{innerHTML:"Удалить"}))&&0==e[l].getElementsByTagName("input").length){var c=U.ce("input",{type:"checkbox",class:"sp_plus_checkbox",id:"DC_"+e[l].parentNode.parentNode.parentNode.parentNode.parentNode.id});r=U.ce("label",{attr:{for:"DC_"+e[l].parentNode.parentNode.parentNode.parentNode.parentNode.id}});e[l].appendChild(c),e[l].appendChild(r)}l!=e.length-1||i||(i=e[l].parentNode.parentNode.parentNode.parentNode)}if((s&&n||t)&&!o){var p=document.getElementsByTagName("input"),d=U.ce("div",{class:"widgets-group user__tools_last",id:"SP_PLUS_BOTTOM_DIV"}),_=U.ce("button",{class:"user__tools-link table__cell",style:"width: 50%; display: inline-block; box-sizing: border-box;",html:'<span class="sp_plus_ico_okb"></span><span style="color: #57A3EA;">Выбрать все</span>',onclick:function(e){for(var o="SPAN"==e.target.nodeName?e.target.parentNode:e.target,t=0;t<p.length;t++)"checkbox"==p[t].type&&/DC_([0-9]+)/gi.test(p[t].id)&&"none"!=p[t].parentNode.parentNode.parentNode.style.display&&(0<=o.innerHTML.indexOf("Выбрать все")?p[t].checked=!0:p[t].checked=!1);return o.innerHTML='<span class="sp_plus_ico_okb"></span><span style="color: #57A3EA;">'+(0<=o.innerHTML.indexOf("Выбрать все")?"Снять отметки":"Выбрать все")+"</span>",!1}}),b=U.ce("button",{class:"user__tools-link table__cell sp_btn_line",style:"width: 50%; display: inline-block; box-sizing: border-box;",html:'<span class="sp_plus_ico_del"></span><span style="color: #F86934;">Удалить выбранные</span>',onclick:function(){for(var t=0,i=new Array,n=new Array,e=0;e<p.length;e++)if("checkbox"==p[e].type&&/DC_([0-9]+)/gi.test(p[e].id)&&1==p[e].checked){if(s)var o=U.find(p[e].parentNode.parentNode.parentNode.parentNode.parentNode.getElementsByTagName("a"),{innerHTML:"Удалить"});else o=U.find(p[e].parentNode.parentNode.parentNode.parentNode.parentNode.getElementsByTagName("a"),{innerHTML:"Удалить"});i.push(o[0]),n.push(p[e]),t++}if(0<t){var a=U.declOfNum(t,["й","я","ев"]);U.confirmm("Вы действительно хотите удалить "+t+" комментари"+a+"?",warn=!0,function(){var o=setInterval(function(){if(U.alert("Процесс...<div class='pad_t_a'></div><small>Удаляем комментарии <span class='ico ico_spinner'></span></small>",0,null),i[--t].href)U.ajax(i[t].href,"GET",null,null,2);else{var e=document.createEvent("MouseEvent");e.initEvent("click",!0,!0),i[t].dispatchEvent(e)}n[t].checked=!1,n[t].className+=" sp_plus_ch_cd",t<1&&clearInterval(o)},500)})}else U.alert("Ошибка!<div class='pad_t_a'></div><small>Не выбрано ни одного комментария.</small>",1,null);return!1}});d.appendChild(b),d.appendChild(_),i?U.insertAfter(d,i):U.qs("#page-down")?U.inBefore(d,U.qs("#page-down")):U.console.error("[S+] Не смогли найти ориентир для вставки!")}}}else u=0}catch(e){U.console.error("Ошибка (COMMENTS): "+e.name+":"+e.message+"\n"+e.stack)}},playerDown:function(){var o=U.qs("#SP_MUSIC_DOWN");try{var e=0,t=sessionStorage.getItem("music:track"),i=sessionStorage.getItem("music:playlist"),n=U.qs("#gp_main_player");if(n&&t&&i){var a=JSON.parse(t);e=parseInt(a.id,10);var s=JSON.parse(i).playlist.playlist[e].src,r=U.find(n.getElementsByTagName("td"),{className:"ico_td"});if(r&&!o){d=e;var l=U.ce("td",{id:"SP_MUSIC_DOWN",class:"ico_td",innerHTML:'<a href="'+s+'" target="_blank" class="tdn"></span><span class="ico ico_download2" title="Скачать"></span></a>'});U.insertAfter(l,r[0])}else o&&d!=e&&(d=e,U.console.info("[S+] Обновили трек!"),o.innerHTML='<a href="'+s+'" target="_blank" class="tdn"></span><span class="ico ico_download2" title="Скачать"></span></a>')}}catch(e){o&&U.remove(o),U.console.error("Ошибка (PLAYER_DOWN): "+e.name+":"+e.message+"\n"+e.stack)}},coins:function(){var e=U.find(document.links,{href:C+"//"+P+"/services/gift_get/?id="});if(e)try{U.ajax(e[0].href,"GET",null,null,2),U.remove(e[0].parentNode),U.console.info("[S+] Собрали монетку!")}catch(e){U.console.error("Ошибка (COINS): "+e.name+":"+e.message+"\n"+e.stack)}},karmaAccept:function(){var e=U.find(document.links,{href:C+"//"+P+"/mysite/rate_n_karma/karma/?Accept="});if(e)try{U.ajax(e[0].href,"GET",null,null,2),U.remove(e[0].parentNode),U.console.info("[S+] Собрали карму!")}catch(e){U.console.error("Ошибка (KARMA): "+e.name+":"+e.message+"\n"+e.stack)}},adsRemove:function(){var e=U.qs("#SP_PLUS_ADBLOCK"),o=U.find(document.links,{href:C+"//"+P+"/index/main/"});try{if(e)o&&U.remove(o[0].parentNode);else{var t=U.ce("script",{type:"text/javascript",id:"SP_PLUS_ADBLOCK",html:"var rawOpen = XMLHttpRequest.prototype.open; XMLHttpRequest.prototype.open = function() { if (!this._hooked) { this._hooked = true; setupHook(this); }; rawOpen.apply(this, arguments); }; function setupHook(xhr) { function getter() { delete xhr.responseText; var ret = xhr.responseText; var json = JSON.parse(ret); json.reklama = ''; json.rightbar_reklama = ''; json.rightbar_app = ''; json.sidebar_reklama = ''; ret = JSON.stringify(json); setup(); return ret; }; function setup() { Object.defineProperty(xhr, 'responseText', { get: getter, configurable: true }); } setup(); };"});document.getElementsByTagName("head")[0].appendChild(t)}}catch(e){U.console.error("Ошибка (ADBLOCK): "+e.name+":"+e.message+"\n"+e.stack)}},allFixes:function(){var e=U.find(document.links,{href:C+"//"+P+"/mail/?Link_id="}),o=U.find(document.links,{href:C+"//"+P+"/lenta/?Link_id="});if(e&&o){var t=e[0].parentNode,i=o[0].parentNode;e[0].href=C+"//"+P+"/mail/",o[0].href=C+"//"+P+"/lenta/",t.removeChild(e[0]),i.removeChild(o[0]),t.appendChild(o[0]),i.appendChild(e[0])}},darkMode:function(e){var o=document.getElementsByTagName("head").item(0),t=U.qs("#SP_PLUS_DARKMODE")||U.ce("style",{id:"SP_PLUS_DARKMODE",type:"text/css"});try{if(t&&!t.hasAttribute("sp-darkmode")&&e){if(t.innerHTML=".border{border:1px solid #344047!important}.sp_plus_checkbox_radio+label{color:#fff!important}input[type=range]{background:transparent;height:0;-webkit-appearance:none;margin:10px 0;width:100%}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{width:100%;height:10px;cursor:pointer;animate:.2s;background:#9ab2cc!important;border-radius:32px;border:0 solid #000}input[type=range]::-webkit-slider-thumb{border:0 solid #2497e3;height:10px;width:10px;border-radius:4px;background:#9ab2cc!important;cursor:pointer;-webkit-appearance:none;margin-top:0}input[type=range]:focus::-webkit-slider-runnable-track{background:#d2e3f4}input[type=range]::-moz-range-track{width:100%;height:10px;cursor:pointer;animate:.2s;background:#d2e3f4;border-radius:32px;border:0 solid #000}input[type=range]::-moz-range-thumb{border:0 solid #2497e3;height:10px;width:10px;border-radius:4px;background:#9ab2cc!important;cursor:pointer}input[type=range]::-ms-track{width:100%;height:10px;cursor:pointer;animate:.2s;background:0;border-color:transparent;color:transparent}input[type=range]::-ms-fill-lower{background:#d2e3f4;border:0 solid #000;border-radius:64px}input[type=range]::-ms-fill-upper{background:#d2e3f4;border:0 solid #000;border-radius:64px}input[type=range]::-ms-thumb{margin-top:1px;border:0 solid #2497e3;height:10px;width:10px;border-radius:4px;background:#9ab2cc!important;cursor:pointer}input[type=range]:focus::-ms-fill-lower{background:#d2e3f4}input[type=range]:focus::-ms-fill-upper{background:#d2e3f4}input[type=range]::-moz-range-progress{border-radius:4px;height:10px;background-color:#9ab2cc!important}input[type=range]::-ms-fill-lower{border-radius:4px;height:10px;background-color:#9ab2cc!important}.brdtop{border-top:1px solid #344047!important}.adv_user_link{background:#404a51!important;border:unset}.grey{color:#fff}.light_item{color:#7a90a0!important}.about_separator::before{border-bottom:1px solid #404a51}.about_separator>span{color:#fff!important;background:#404a51}.error__item .text-input_error{background:unset}.lgrey{color:#fff}body .user__tools-link_disabled,body .user__tools-link_disabled:hover,body .user__tools-link_disabled.clicked,body .stnd-link_disabled:active,.dropdown-menu .list-link.user__tools-link_disabled,.dropdown-menu .list-link.user__tools-link_disabled:hover{cursor:not-allowed;background:unset!important}.s-city__pagination-btn:hover{background:#596671}.s-city__pagination{background:#4d5961!important}.calendar-head{background-color:#344047}.mailBox{border:1px solid #344047!important;background:#4d5961!important}.mailBox .text{color:#fff!important}.message-block_foreign.message-block_personal .message__description::before{border-right-color:#61a961}.message__date,.message__place{color:#fff}.message-block_personal .message__description{background:#61a961}.message-block_foreign.message-block_system .message__description::before{border-right-color:#344047}.message-block_my.message-block_system .message__description,.message-block_system .message__description{background:#344047}.message__user,.message__text{color:#fff}.message-block_foreign .message__description::before{border-right-color:#344047}.message__description{background:#344047}.message-block_my .message__description::before{border-left-color:#404a51}.message-block_my .message__description{background:#404a51}.list-link_sep{border:1px solid#344047}.bordered{border:1px solid#344047}.cnt_title{border-color:#4d5961!important;color:#57a3ea}.s-property::after{content:unset!important}.s-property::before{background:transparent}.s-property__inner{border:1px solid #344047}.s-property{background:#4d5961}.switch__item_cnt{color:#64a3eb}.switch{background:unset}.system-message_service{color:#404a51!important;background:#f9edbf!important}.system-message{border-right:1px solid #344047;color:#fff;background:#4d5961}.time-block{background:#4d5961;border:1px solid #344047;border-top:unset}.i_busi{color:#000}content-item{background:#4d5961}.un,#scroll_page_toTop,#scroll_page_toBottom{color:#fff}label.user__tools-link.clicked{background:#4d5961!important}.user__tools-link:active,.user-tile__btn:active,.user-tile__btn.js-clicked,.user__tools-link.clicked{color:#fff!important}.colorpicker-spectrum_cursor{background:#344047}.colorpicker-color,.colorpicker-rect,.colorpicker-spectrum,.toolbar-color,.colorpicker-spectrum_cursor{border:1px solid #344047}#scroll_page_place{background:#344047}a.link-blue:hover{color:#00a5ed!important}.gp-right_btn .gp-content{background-color:#404a51}.gp-right_btn .gp-content:hover{background:#818f99}.gp-right_btn .gp-active .gp-content{background:#344047}body,#main_wrap{color:#fff}.warning,.code_tag{background:#404a51;border:1px solid #333f45}.text_input,.friends_access_list,.button_block input,.form_button{border:1px solid #344047}.attach_block{background:#4d5961}.link_active,.item_clicked,.strong_clicked,.clicked .stnd-link,.stnd-link:active,.list-link-blue.clicked,body .stnd-link_active,.links-group .sublink .list-link:active,.links-group .stnd-link_arr.list-link-blue:active{color:#fff!important}.tabs__item:hover .tabs__link{color:#fff;background:#596671}.w_ava .mail__dialog_message::before{border-right-color:#404a51}.w_ava .mail__dialog_answer::before{border-right-color:#344047}.block-item__online{color:#31bf0f}.lenta_item,.poll_block{border:1px solid #344047}.att_size{color:#57a3ea}.mail__dialog_wrapper .blog-item_short_shared,.mail__dialog_wrapper .att_wrap{border:1px solid #344047}.error__item.list-link{border-bottom:1px solid #344047}.gallery_fileselector .gallery__image-wrapper{background:#404a51}.perimeter-border{border:1px solid #344047}.sp_btn_line{border-right:1px solid #344047!important}.btn-tools_centered .icon-link{border:1px solid #344047!important}.sp_plus_alert_y{border:1px solid #344047!important;background:#4d5961!important;color:#fff!important;-webkit-box-shadow:0 3px 5px #293238!important;-moz-box-shadow:0 3px 5px #293238!important;box-shadow:0 3px 5px #293238!important}#copy_url{color:#888}.sv b,.site-versions b{color:#fff}#sandbox_indicator{background:#4d5961 none repeat scroll 0 0!important;color:#a4b7c4}#page_counters>div{background-color:#404a51!important}#copy_url{background:#404a51!important}.bottom_fix{background:#404a51}.karma__plus,.karma__minus{border-bottom:1px solid #344047!important}.pc .mail__msg_checked:hover,.pc .mail__msg_checked.mail__new_msg:hover,.pc .mail__msg_checked.mail__new_msg_bg:hover,.mail__msg_checked{background:#344047!important}.location-bar a:hover{color:#fff}.bstrwrap{border-top:1px solid #344047!important}.stnd-block-yellow{background:#f9edbf!important}.content-bl__sep3{border-bottom:unset}.triangle-show.js-clicked::after{border-bottom-color:#344047}.dropdown-menu_top .table__cell .js-clicked::after{border-top-color:#344047}.table__cell .clicked::after{border-bottom-color:#344047}.table_cell_border{border-right:1px solid #344047!important}.btn-tools.js-clicked::after{border-bottom-color:#344047}.user__change-btn.js-clicked::after{border-bottom-color:#344047}.tabs .clicked .tabs__link::after{border-top-color:#344047}.triangle-show.triangle-block::after,.triangle-show.triangle-block::before{border-bottom-color:#344047}.action-bar-info .triangle-show::after{border-bottom-color:#404a51}.link_top-border{border-top:1px solid #344047}.f__title{color:#fff}.b-title_in-window{background:#4d5961!important;color:#fff}button,input[type='button'],input[type='submit'],input[type='reset'],.button{border:1px solid #344047;background:#4d5961}button:hover,input[type='button']:hover,input[type='submit']:hover,input[type='reset']:hover,.button:hover{background-color:#818f99}.sp_plus_line>span{background:#404a51!important}.sp_plus_line::before{border-bottom:1px solid #344047!important}.sp_plus_text{color:#7a90a0!important}div.main{border-left:1px solid #344047;border-right:1px solid #344047}.s_title{background:unset}#left_nav ul li.li{border-top:unset;border-bottom:unset}.location-bar a::after,.location-bar__title::after,.location-bar_no-break::after{background:unset}.carousel-bg{border-bottom:1px solid #344047}a.region_link:visited,.author_settings,a.region_link,.t-strong_special .gr{color:#57a3ea!important}.smiles_menu-back{border-top:1px solid #344047}.smiles_menu-header{background:#344047}.smiles_menu{border:1px solid #344047}.smiles_menu-body{background:#4d5961}.busi_switcher table .active_item,.busi_switcher table a:active{background:#4d5961}.busi_switcher table a,.busi_switcher table span.active_item{text-shadow:unset}.busi_switcher table a,.busi_switcher table span.active_item{border:1px solid #344047}.file_name,.search_bar,.more_link,.list_item,.edit_title_block,.busi_switcher table a,.edit_button{background:#344047}.busi_switcher table a:hover{background:#4d5961}.light_blue_bg{color:#fff}.vlight_border_bottom{border-bottom:1px solid #344047}.bubble-message{color:#fff}.text-block5,.text-block6,.text-block7{color:#fff}.replace_widget_wrapper+.list-link,.replace_widget_wrapper+.content-item3{border-top:1px solid #344047}.list-link__more-users{background:#404a51;color:#fff}.toolbar__wrap{background:unset}.stnd-block.error__msg{background:unset}.tile{background:#344047;color:#fff}.select_custom{color:#fff}.cnt-link:focus{color:#fff;background:#5b676f}.cnt-link:hover{background:#5b676f}.hover_bg:hover{background:#818f99}.suggest__item{background:#434b5a}a.service_link,a.service_link span,.service_item{color:#fff}.t-link_no_underline_block,.t-link_no_underline_block:hover{color:#fff}.t-link_no_underline:hover,.t-link_no_underline:hover span,.t-link_no_underline_block:hover .t-link_item_hover{color:#57a3ea}a.region_link:hover,.ewb:hover span,a.title_link:hover span,a.grey_link:hover,span.grey_link a:hover,.list_item div a:hover,.author_link:hover,.edit_label a:hover,a.user_link:hover,a.service_link:hover,a.service_link:hover span,.busi a:hover,a.arrow_link:hover span,.pag .pgar .page:hover,.edit_link,.sub_menu a:hover,a.icolink:hover,.neutral_link span,.tools_block a:hover,.url-btn-blue:hover,.file_comments_info a:hover,.sub_block a:hover,a.name_link:hover,.response:hover,.green_box a:hover span,.ufi a:hover span,.ufi a:hover{color:#57a3ea!important}a.region_link:hover,.ewb:hover span,a.title_link:hover,a.title_link:hover span,a.grey_link:hover,span.grey_link a:hover,.list_item div a:hover,.author_link:hover,.edit_label a:hover,a.user_link:hover,a.service_link:hover,a.service_link:hover span,.busi a:hover,a.arrow_link:hover span,.pag .pgar .page:hover,.edit_link,.sub_menu a:hover,a.icolink:hover,.neutral_link span,.tools_block a:hover,.url-btn-blue:hover,.file_comments_info a:hover,.sub_block a:hover,a.name_link:hover,.response:hover,.green_box a:hover span,.ufi a:hover span,.ufi a:hover{color:#57a3ea}.tab_title{color:#fff}.table__cell_last,.table_no_borders .table__cell{border-right:unset!important}.service_links_block_top,.pad_t_a{border-top:unset!important}.block-item__btn-wrap>div>a{border:1px solid #344047}.spo_desc{color:#57a3ea}a.red_link,a.red_link span,.red_item{color:red}.light_border_top{border-top:1px solid #344047}.text-input[readonly]{background:unset!important}.stnd-link,.stnd-block{color:#fff}.tabs_line{border-top:1px solid #344047}.tabs_block a:hover{background:#818f99}.tabs_block .tab_item{border:1px solid #344047;background:#404a51;color:#fff}.tabs_block .tab_active,.tabs_block .tab_active:hover{background:#4d5961!important;color:#fff}.list_item{background:#4d5961!important}.bottom_link_block,.search_bar,div.backlink,body .blue_bg{background:#4d5961}.user__tools_horiz-mode{border:1px solid #344047}.form-checkbox_w_descr .form-checkbox__label{color:#fff}.content-item_info{color:#344047!important}.sp_plus_checkbox_el+label{color:#fff!important}.chb-icons .ico_photo,.ico_photo_gray{background-position:-288px -180px!important}.sep-chb .form-checkbox,.form-checkbox_dropdown-menu{background:#4d5961;border-bottom:1px solid #344047}.drop-down-list_inner .drop-down-label{background:unset}.darkblue{color:#fff}.text-block7{color:#fff}.normal-stnd{color:#fff}.list-link:hover,.me6d43f28:hover,.list-link__wrap_hover .list-link,.tabs__item:hover,.btn-main:hover,.btn-block:hover,.user__tools-link:hover,a.user__tools-link:hover,.user-tile__btn:hover,a.hover-item:hover,.tile__bottom-link:hover,.btn-link:hover,.stnd-link:hover,.s-city__item:hover,.s-chb:hover,a:hover .bordered,.pgn__link_hover:hover,.links-group_grey .list-link.strong_clicked,.form-checkbox_dropdown-menu:hover,.dropdown-menu .list-link:hover,.dropdown-menu .list-link__wrap_hover .list-link{background:#596671!important}.gp-active .gp-content{background-color:#344047}#gp_playlist{background:#4d5961}#gp_window{border:unset}.att_wrap{background:#404a51}.quote,.blog-item_short_shared{background:#596771;color:#fff;border:1px solid #344047}.links-group .stnd-link,.links-group .list-link_arrow{border-bottom:1px solid #344047}.soc-separator{background:#4d5961}.sub-tabs{background:#4d5961}.message{background:#4d5961}.table__cell_block{background:#4d5961}.light_blue{background:#404a51}.user__tools-link{color:#fff!important}.flot-text{color:#fff!important}.site-link__wrapper{border-bottom:1px solid #344047}.stnd-link_profile,.stnd-block_profile{color:#7a90a0!important}.pgn__go,.pgn__go:hover{background-position:-396px -306px!important}.pgn__search_input:focus{background:#4d5961}.blue_border_bottom{border-bottom:1px solid #344047}.light_blue_bg{background:#404a51;border-bottom:1px solid #344047}.t-padd_right{padding-right:unset}#e0437eeb07,.pag,.search_bar,.bottom_link_block,.list_item,.button_block,.title_block,.sub_menu,.strong_border{border-bottom:1px solid #344047}.blue_wrap_block{background:#404a51}.pgn-wrapper .pgn{border-top:1px solid #344047}.sup_block{background:#4d5961}#main_shadow,#top_info_block{border-left:1px solid #344047}.list-link_online{color:#fff!important}.ico_services{background:url(https://"+L+"/src/darkmode/ico_services.png) no-repeat}.ico_services_nick{background-position:0 -34px}.ico_services_stickers{background-position:-34px -34px}.ico_services_ads{background-position:0 0}.ico_services_nick{background-position:0 -34px}.ico_services_ghost{background-position:-34px 0}.ico_services_storage{background-position:-68px 0}.ico_services_head_icons{background-position:-68px -34px}.ico{background:url(https://"+L+"/src/darkmode/ico.png) no-repeat}.ico_history_blue{background-position:-306px -18px}.ico_history_black,a:hover .ico_history_blue,a:active .ico_history{background-position:-306px -18px}.ico_info_b{background-position:-136px -146px}.ico_sites_b{background-position:-200px -102px}.ico_dating_b{background-position:-166px -102px}.clicked .ico_man{background-position:-288px -364px}.clicked .ico_woman{background-position:-324px -364px}.list-link:hover .ico_info{background-position:-234px -180px}.ico_lock_darkblue{background-position:-378px -126px}.inl-link .ico_arr{background-position:-414px -385px}.link-blue .ico_arr{background-position:-414px -385px!important}.link-stnd:hover .ico_arr7,.nl a:hover .ico_arr,.ico_arr8,.link-imp .ico_arr,.link-blue .ico_arr,.inl-link:hover .ico_arr{background-position:-414px -385px}.ico_forum_darkblue{background-position:-126px -274px}.ico_diary_darkblue{background-position:-288px 0}.ico_key_white{background-position:-378px 0}a:active .ico_exit,.link_active .ico_exit,a:active .ico_exit_blue{background-position:-306px -54px!important}.ico_photo_selected{background-position:-136px -112px}.ico_ac_all{background-position:-306px -310px}.ico_photo_select{background-position:-170px -146px}.ico_mode_na{background-position:-360px -72px}.ico_rate_up{background-position:-80px -198px}.ico_demo{background-position:-414px -130px}.ico_ban_list{background-position:-180px -310px}.ico_darr_left{background-position:-90px -364px}.ico_question_light{background-position:-234px -144px}.ico_ok,.ico_ok_green{background-position:-252px -108px!important}.ico_darr_right{background-position:-108px -364px}.ico_rotate_left{background-position:-54px -364px}.ico_rotate_right{background-position:-72px -364px}.ico_note{background-position:-198px -364px}.ico_ok_grey{background-position:-18px -364px}.ico_speaker{background-position:-72px -256px}.ico_close_btn_invers{background-position:0 -198px}.ico_locked{background-position:-378px -36px}.ico_status{background-position:-128px -180px}.ico_read_blue{background-position:-270px -292px}.ico_place{background-position:-396px -162px}.ico_arr4{background-position:-414px -321px}.ico_att{background-position:-144px -310px}.ico_mess,.chb-icons .form-checkbox_checked .ico_mess{background-position:-198px -274px}.ico_more_b{background-position:-54px -292px}.ico_no_results{background-position:-34px -146px}.ico_users_blue{background-position:-162px -328px}.ico_shared_grey{background-position:-198px -220px}.ico_shared_darkblue{background-position:-252px -18px}.ico_ac_all_grey,.drop-down-list_inner .drop-down-label .ico_ac_all{background-position:-324px -310px}.ico_filter{background-position:-396px -198px}.ico_search_people_blue{background-position:-378px -198px}.ico_mode_froffr{background-position:-71px -180px}.ico_delete_g{background-position:-324px -180px}.ico_plane_blue{background-position:-288px -310px}.ico_alert{background-position:-216px -364px}.ico_people_darkblue{background-position:-378px -270px}.ico_locked_large{background-position:-68px -146px}.ico_a{background-position:-126px -364px}.ico_plus_blue{background-position:-324px -270px}.ico_ac_group{background-position:-54px -328px}.ico_ac_password{background-position:-342px -288px}.ico_eye{background-position:-252px -310px}.ico_ac_fof,.ico_ac_fof_black,.ico_ac_fof_darkblue{background-position:-342px -198px}.ico_ac_friends{background-position:-342px -126px}.ico_ac_user{background-position:-342px -36px}.ico_mode_fronl{background-position:-162px -256px}.ico_extended,.ico_extended_on,.ico_extended_off{background-position:-396px -342px}.ico_short,.ico_short_on,.ico_short_off{background-position:-396px -324px}.ico_mobile_blue{background-position:-324px -126px}.ico_mail_blue{background-position:-324px -108px}.ico_enter_grey,body a.stnd-link_disabled .ico_enter_grey{background-position:-306px -144px}a.inl-link:hover .ico_shared_darkblue,.ico_shared_blue{background-position:-252px -18px}.ico_checked{background-position:-180px -364px}.ico_upload_blue{background-position:-396px -90px}.ico_shared_white{background-position:-198px -220px}.ico_befriends_blue{background-position:-144px -292px}.ico_ac_friends_darkblue,.ico-menu-toggle.js-clicked .ico_ac_friends,.drop-down-label.js-clicked .ico_ac_friends_black{background-position:-378px -270px}.ico_delete{background-position:-180px -256px}.ico_rate_down{background-position:-324px -72px}.ico_close_btn{background-position:-22px -198px}.ico_enter_blue{background-position:-306px -126px}.ico_add_darkblue{background-position:-396px -54px}.ico_profile,.ico_edit_dim{background-position:0 -292px}.site-link__wrapper{background:#4d5961}.ico_service_b{background-position:-200px -34px}.ico_career_b{background-position:-200px -68px}.ico_high_b{background-position:-102px -146px}.ico_ed_b{background-position:-132px 0}.ico_up{background-position:-360px 0}.ico_down{background-position:-360px -36px}.ico_plane{background-position:-234px -292px}.ico_read_on{background-position:-324px -18px}.ico_ac_fof_darkblue,.ico-menu-toggle.js-clicked .ico_ac_fof,.drop-down-label.js-clicked .ico_ac_fof_black{background-position:-342px -234px}.ico_edit_b,a:hover .ico_edit_darkblue,a:hover .no-text .ico_profile,.link-normal:hover .ico_profile,.inline-link:hover .ico_edit_dim,.link-grey:hover .ico_edit_dim,.link-dim:hover .ico_edit_dim{background-position:-324px -216px}.block-item{border-bottom:1px solid #344047;background:#4d5961!important}.ico_main_b{background-position:-200px -136px}.ico_befriends{background-position:-378px -288px}.ico_man{background-position:-288px -364px}.ico_woman{background-position:-324px -364px}.user__tools_horiz-mode .table__cell{border-right:1px solid #344047}.text-input:focus{background:#4d5961}.ico_compass{background-position:-166px -68px}.s-city__item_light:active,.s-city__item_light.clicked{color:#fff}.s-city__item_city.clicked,.s-city__item_light.clicked,.s-city__item_country.clicked{background:#4d5961}.s-city__item_light{color:#fff}.s-city__item{border-bottom:1px solid #344047}.s-city__wrap{background:#4d5961}.drop-down-label_single.js-clicked,.drop-down-label_single.js-clicked .t,.drop-down-label.js-clicked,.drop-down-label.js-clicked .t{color:#57a3ea!important}.list-link{color:#fff}.drop-down-label:hover,.drop-down-label:hover .t,.drop-down-label.js-clicked:hover,.drop-down-label.js-clicked:hover .t{color:#57a3ea!important}.drop-down-label{color:#fff}.ico_arr5,.ico_arr_bottom{background-position:-180px -238px}.ico_search_blue{background-position:-378px -162px}.b-title__spoiler{background:#4d5961}.attention{background:#4d5961;border:1px solid #344047}.ico_add_univer{background-position:0 -112px}.ico_add_school{background-position:-68px -112px}.ico_gifts_blue{background-position:-306px -198px}.ico_write,body a.stnd-link_disabled .ico_write,body a.stnd-link_disabled:active .ico_write,body .list-link.user__tools-link_disabled .ico_write,body .user__tools-link.user__tools-link_disabled .ico_write{background-position:-324px -54px!important}.ico_befriends_inprocess{background-position:-198px -292px}.ico_gifts,.stnd-link_disabled:active .ico_gifts,body .user__tools-link.user__tools-link_disabled .ico_gifts{background-position:-306px -180px}.ico_tort{background-position:-198px -256px}.ico_add_blue{background-position:-396px -36px}.ico_ed_middle{background-position:-360px -162px}.ico_settings_light{background-position:-234px -274px}.ico_ok_blue{background-position:-116px -198px}.ico_download,.ico_down_blue{background-position:-170px -198px}.ico_complaint{background-position:-288px -36px}.ico_read,body .list-link.user__tools-link_disabled:hover .ico_read,body .user__tools-link.user__tools-link_disabled .ico_read,body a.stnd-link_disabled .ico_read,body a.stnd-link_disabled:active .ico_read{background-position:-306px -292px}.ico_write,body a.stnd-link_disabled .ico_write,body a.stnd-link_disabled:active .ico_write,body .list-link.user__tools-link_disabled .ico_write,body .user__tools-link.user__tools-link_disabled .ico_write{background-position:-324px -54px}.ico_befriends_on{background-position:-162px -292px}.ico_question_grey{background-position:-126px -220px}.ico_download2_grey{background-position:-234px 0}.links-group .ico_arr_bottom,.drop-down-label_single.drop-down-label .ico_arr_bottom,.drop-down-list_inner .drop-down-label .ico_arr_bottom,.ico_arr_bottom_grey{background-position:-270px -180px}.ico_download2_blue{background-position:-206px -198px}.ico_plus_white{background-position:-360px -108px}.ico_galoom_white,.ico_galoom{background-position:-198px -346px}.ico_mail_white{background-position:-324px -90px}.ico_mymir_white,.soc-link .ico_mymir,.soc-link:active .ico_mymir,.soc-button .ico_mymir{background-position:-162px -346px}.ico_twitter_white{background-position:-108px -346px}.ico_fb_white,.soc-link .ico_fb,.soc-link:active .ico_fb,.soc-button .ico_fb{background-position:-180px -346px}.ico_odnk_white,.soc-link .ico_odnk,.soc-link:active .ico_odnk,.soc-button .ico_odnk{background-position:-144px -346px}.ico_vk_white,.soc-link .ico_vk,.soc-link:active .ico_vk,.soc-button .ico_vk{background-position:-126px -346px}.ico_rating{background-position:-36px -220px}.ico_info{background-position:-234px -180px}.ico_forum,.chb-icons .form-checkbox_checked .ico_forum{background-position:-144px -274px}.ico_user{background-position:-234px -72px}.ico_arrow{background-position:-414px -321px}.ico_com{background-position:-414px -166px}.ico_users_group{background-position:-90px -180px}.ico_user_online{background-position:-162px -220px}.ico_pause,.playing .p_i_t_pb_image{background-position:-414px -58px}.ico_reload_gray{background-position:0 -238px}.ico_download2{background-position:-188px -198px}.ico_plus_darkblue,.js-clicked .ico_plus_grey{background-position:-324px -288px}.ico_player_next{background-position:0 -364px}.ico_player_prev{background-position:-234px -90px}a:hover .ico_lenta_comments,.ico_soo_down,.ico_weather_xlarge,.ico_spacesru{background-position:0 -66px}.ico_play,body .p_i_t_pb_image{background-position:-414px -148px}.ico_ok_active{background-position:-252px -124px}.ico_arr,.ico_arr2{background-position:-414px -265px}.ico_arr3{background-position:-414px -237px}.ico_arr_bottom_white{background-position:-270px -162px}.location-bar__home-link{background-position:-396px 0}.ico_reload_darkblue{background-position:-252px -216px}.ico_remove,body input[type='submit'].delete-btn{background-position:-378px -306px}.help-block{border-bottom:1px solid #344047}.p_i_p_progressLine{background-color:#9ab2cc}.ico_friends_grey{background-position:-252px -364px}.ico_settings{background-position:-98px -198px}.ico_fav,.ico_fav_grey{background-position:-216px -256px}.ico_more{background-position:-36px -292px}.ico_fav_on{background-position:-252px -256px}.ico_add{background-position:-270px -274px}.ico_history{background-position:-306px 0}.ico_exit{background-position:-306px -54px}.ico_plus_grey{background-position:-180px -328px}.ico_smile{background-position:-396px -126px}.ico_plus{background-position:-62px -198px}.ico_arrow-back,.ico_arr11{background-position:-414px -349px}.ico_upload{background-position:-396px -72px}.ico_gb{background-position:-126px -256px}.ico_blog{background-position:-144px -256px}.ico_game{background-position:-288px -90px}.ico_photo,.chb-icons .form-checkbox_checked .ico_photo{background-position:-288px -162px}.ico_music,.chb-icons .form-checkbox_checked .ico_music{background-position:-288px -252px}.ico_video,.chb-icons .form-checkbox_checked .ico_video{background-position:-36px -274px}.ico_file,.chb-icons .form-checkbox_checked .ico_file{background-position:-90px -274px}.ico_comm{background-position:-52px -180px}.ico_friends{background-position:-306px -234px}.ico_readers{background-position:-109px -180px}.ico_readers{background-position:-109px -180px}.ico_int_people{background-position:-306px -270px}.ico_add_user{background-position:-166px 0}.ico_wait{background-position:-252px -198px}.player_item{color:#fff!important}.gp-playlist_active{background:#344047!important}.stnd_padd{background:#4d5961}.light_border_bottom{border-bottom:1px solid #344047;background:#4d5961!important}.upper_case{color:#a7b8c6}.gp-info_wrap{color:#fff}.gp-content:hover{background-color:#818f99}.gp-content{background-color:#4d5961}.user__tools{border-bottom:1px solid #344047}.user__details{color:#a7b8c6}.blog-toolbar{color:#a7b8c6}.switch__item{background:#344047}.switch__item_current{background:#4d5961!important;color:#fff}.text-input{border:1px solid #344047;background:#4d5961;color:#fff}.btn-min{border:1px solid #344047}.text-input-wrapper_inline{border:1px solid #344047}.tabs__item_disabled,.tabs__item_disabled:active{background:#4d5961!important}.dropdown-menu_text{background:#4d5961}.pgn__button:active,.pgn__button_press,.pgn__button_press:hover,.mail__button:active{color:#7a90a0!important;background:#344047!important;-webkit-box-shadow:inset 0 3px 5px #293238!important;-moz-box-shadow:inset 0 3px 5px #293238!important;box-shadow:inset 0 3px 5px #293238!important}.pgn__search_input{background:#4d5961;border:1px solid #373f46;-webkit-box-shadow:inset 0 3px 5px #374047;-moz-box-shadow:inset 0 3px 5px #374047;box-shadow:inset 0 3px 5px #374047}.mail__dialog_message{background:#404a51}.mail__dialog_answer{background:#344047}.mail__dialog_text{color:#fff!important}.comm_selected .comm{background:#344047}.system-message_alert{color:#ff6837!important;background:#f9edbf}.info-item{color:#fff}.content-bl{color:#fff}.b-title__all::before{content:unset}a:hover .b-title__all{background:#344047}.file_name,.search_bar,.more_link,.list_item,.edit_title_block,.busi_switcher table a,.edit_button{color:#fff}.links-group_sections .list-link:hover{color:#fff!important}.list-link-grey:active,.inl-link.js-clicked,.l-gr .list-link:active,.links-group .list-link:active,.list-link:active .lgrey2,body .links-group .list-link-blue:active{color:#fff!important}.bubble::after,.user__status::after{border-bottom-color:#404a51}.bubble,.user__status{background:#404a51;color:#a7b8c6}#wrap_all{background:#4d5961}.ico_mail{background:url(https://"+L+"/src/darkmode/ico_mail.png) no-repeat}.ico_mail_inbox{background-position:0 -126px}.ico_mail_fav{background-position:-90px -54px}.ico_mail_write{background-position:-32px -126px}.ico_mail_restore_grey{background-position:-17px -108px}.ico_mail_spoiler{background-position:-72px -54px}.ico_mail_message{background-position:-68px -108px}.ico_mail_fav_blue{background-position:-90px -18px}.ico_mail_archive_blue{background-position:-126px -54px}.ico_mail_spam_blue{background-position:-18px -90px}.ico_mail_garbage_blue{background-position:-126px 0}.ico_mail_cog_blue{background-position:-54px -18px}a.inl-link:hover .ico_cats_city,.ico_cats_city_black,.ico_leads,.ico_mail_quote,#present_link span{background-position:-36px -36px}.ico_cats_news_black,a:active .ico_cats_news,a.stnd-link_active .ico_cats_news,.ico_cats_news_black,.ico_mail_link{background-position:-18px -72px}.ico_cats_subculture_black,a:active .ico_cats_subculture,a.stnd-link_active .ico_cats_subculture,.ico_cats_subculture_black,.ico_chat_journal_blue,.ico_mail_color,.pc .voteDownCnt:hover span,.voteDownCnt span.on,.pc .voteDownCnt:hover span.on{background-position:-18px -54px}.ico_settings_black_blue,.ico_mail_bold,.voteDownCnt span{background-position:-18px 0}.ico_rules,.ico_mail_italic,.voteUpCnt span{background-position:0 -18px}.ico_journal,.ico_mail_underline,#mail_link span{background-position:-36px 0}.ico_cats_rpg_black,a:active .ico_cats_rpg,a.stnd-link_active .ico_cats_rpg,.ico_cats_rpg_black,.ico_people_in_viktorina,.ico_mail_strike,#bookmark_link span{background-position:0 -36px}.ico_mail_code{background-position:-18px -126px}.ico_mail_background,#comment_link span{background-position:-72px 0}.ico_mail_picture{background-position:0 0}.ico_mail_music{background-position:-90px -36px}.ico_mail_video{background-position:-108px -52px}.f__ico_contacts,.ico_files_zip,.ico_mail_file{background-position:-126px -72px}.ico_mail_spam,.mail__button.disabled:active .ico_mail_spam{background-position:-36px -90px}.ico_mail_garbage_red{background-position:-108px -88px}.ico_mail_attach{background-position:-54px -72px}.ico_attaches{background:url(https://"+L+"/src/darkmode/ico_attaches.png) no-repeat}.ico_attaches_picture{background-position:-18px -18px}.ico_attaches_poll{background-position:-36px 0}.ico_attaches_file{background-position:-18px -36px}.ico_attaches_music{background-position:0 -18px}.ico_attaches_attach{background-position:-18px 0}#sidebar_wrap{background:#4d5961}.ico_mail_receive{background-position:-104px -108px!important}.ico_mail_archive{background-position:-126px -36px!important}.ico_mail_garbage{background-position:-51px -108px!important}#left_nav ul li.li a,.s_title{color:#fff}.s_i{background:url(https://"+L+"/src/darkmode/ico_sidebar_pc.png)no-repeat!important;width:16px;height:16px}.s_i_spaceplus{background-position:-126px -128px!important}.s_i_cake{background-position:-18px 0!important}.s_i_exchange{background-position:-36px -36px!important}.s_i_love{background-position:0 -72px!important}.s_i_music{background-position:-72px -36px!important}.s_i_diary{background-position:-36px 0!important}.s_i_community{background-position:0 -18px!important}.s_i_forum{background-position:-36px -54px!important}.s_i_chat{background-position:0 -36px!important}.s_i_games{background-position:-54px -18px!important}.s_i_announcement{background-position:-72px 0!important}.s_i_people{background-position:0 -54px!important}.s_i_guestbook{background-position:0 -126px!important}.s_i_files{background-position:-126px -18px!important}.s_i_videos{background-position:-126px -54px!important}.s_i_photos{background-position:-126px -90px!important}.s_i_city{background-position:-108px -36px!important}.s_i_mobiles{background-position:-72px -72px!important}.s_i_info{background-position:-90px -18px!important}.s_i_favorites{background-position:-72px -126px!important}.s_i_friends{background-position:0 -108px!important}.s_i_history{background-position:-36px -126px!important}.s_i_links{background-position:-108px -108px!important}.s_i_options,.s_i_menu{background-position:-108px -72px!important}.s_i_allservices_gray{background-position:-72px -108px!important}.s_i_help{background-position:-90px -54px!important}.s_i_exit{background-position:-36px -108px!important}.left_nav_search_input,.reg_text_input{background:#434b5a;border:1px solid #232833}#left_nav ul li.li a:hover{background:#818f99}.s_title,#left_nav ul li.li a.title_link{color:#fff}.left_nav_search_input:hover{background:#434b5a}#main_search_input{color:#c4ccda}body #left_nav ul li.li a:active{color:#fff;background:#344047;-webkit-box-shadow:inset 0 3px 5px #192228;-moz-box-shadow:inset 0 3px 5px #192228;box-shadow:inset 0 3px 5px #192228}.left_nav_padding input.search__btn:focus{background:#434b5a}.main,#logo_panel,.item_head_bg{background:#404a51}.location-bar{color:#fff;background:#4d5961;-webkit-box-shadow:0 3px 5px #293238;-moz-box-shadow:0 3px 5px #293238;box-shadow:0 3px 5px #293238}.location-bar::after{background:#4d5961}.tile-menu__title{color:#fff}.tile-menu__link{background:#4d5961;-webkit-box-shadow:0 3px 5px #293238;-moz-box-shadow:0 3px 5px #293238;box-shadow:0 3px 5px #293238}.pc .tile-menu__link:hover{background:#596671}.tile-menu__link:active{background:#344047!important;-webkit-box-shadow:inset 0 3px 4px #293238;-moz-box-shadow:inset 0 3px 4px #293238;box-shadow:inset 0 3px 4px #293238}.search__input:focus{background:#434b5a}.search__input{background:#434b5a;border:1px solid #232833;color:#fff}.b-title__link,.b-title__item{color:#fff!important}.widgets-group,.m44f47fd1,.spoiler_inject::before,.our_spo_inj::before,.content-item,.dropdown-menu_text,.btn-single,.tabs::before,.spaced-group a,.user-tile__similarity-wrapper,.pgn,.shdw,.ma74074b9{-webkit-box-shadow:0 3px 5px #293238;-moz-box-shadow:0 3px 5px #293238;box-shadow:0 3px 5px #293238}.b-title{background:#344047}.b-title__link:hover,.header_links_fixer a:hover{background:#4d5961}.page_fixer{background:#404a51}.b-title__all{background:#344047}.carousel-bg{background:#4d5961}.b-title__all::before,.b-title__edit-link::before{background:#344047}.carousel-prev .carousel-edges_shadow{left:10px}.list-link{background:#4d5961;border-bottom:1px solid #344047}.blog-item__author,.blog-item__time,.normal-light{color:#fff}.list-link:hover,.me6d43f28:hover,.list-link__wrap_hover .list-link,.tabs__item:hover,.btn-main:hover,.btn-block:hover,.user__tools-link:hover,a.user__tools-link:hover,.user-tile__btn:hover,a.hover-item:hover,.tile__bottom-link:hover,.btn-link:hover,.stnd-link:hover,.s-city__item:hover,.s-chb:hover,a:hover .bordered,.pgn__link_hover:hover,.links-group_grey .list-link.strong_clicked,.form-checkbox_dropdown-menu:hover,.dropdown-menu .list-link:hover,.dropdown-menu .list-link__wrap_hover .list-link{background:#818f99}.list-link-darkblue,.links-group .list-link_arrow,.links-group .list-link-darkblue,.links-group .stnd-link_profile{color:#fff!important}.list-link-darkblue .cnt{color:#57a3ea}.wbg{background:#4d5961!important}.block-item__descr{color:#fff}.content-usr{background:#4d5961;-webkit-box-shadow:0 3px 5px #293238;-moz-box-shadow:0 3px 5px #293238;box-shadow:0 3px 5px #293238}.black{color:#fff}.table__cell{border-right:1px solid #344047}.stnd-link,.stnd-block{color:#fff;background:#4d5961}.user__tools{border-top:1px solid #344047}.list-link_online{-webkit-box-shadow:0 3px 4px #293238;-moz-box-shadow:0 3px 4px #293238;box-shadow:0 3px 4px #293238}.no-break::before{display:none}.blog-item__subject,.blog-item__channel,.blog-item_short_shared .black{color:#fff}.blog-item__title{color:#fff}.content-bl{background:#4d5961}#main_page a:visited,a,a.edit_link:visited,a.user_link:visited,.tools_block a,.sub_menu a,.inl-link,.link-stnd,.text-title,.nl a,.link-darkblue,.anketa__rate-link,.info-item__descr a,.info-item__descr-link,.drop-down-label.drop-down-label_spoiler,.t-strong_item,.blog-item__title,.list-link__name,.md77b4724,.f_descr_text,a.arrow_link span,.ufi a span,.response,.url-btn,.edit_widget_title,.ewb span{color:#57a3ea}.list-link__text{color:#fff}.mysite-nick{color:#fff}.text-color,.links-group_important .list-link.clicked{color:#fff!important}.link-return{color:#57a3ea!important}.comm{background:#4d5961;border-bottom:1px solid #344047}.text,.text_anketa{color:#fff}.spoiler_inject,.our_spo_inj{background:#404a51}.dropdown-menu__wrap{background:#344047;-webkit-box-shadow:0 3px 5px #293238;-moz-box-shadow:0 3px 5px #293238;box-shadow:0 3px 5px #293238}.links-group_grey .list-link,.links-group_grey .stnd-link{color:#fff!important}.list .stnd-link{border-bottom:1px solid #344047}.tabs{background:#4d5961}.tabs__link{color:#fff}.list-link:active,.me6d43f28:active,.soc-links .list-link_soc.clicked,.soc-links .list-link_soc:active,.dropdown-menu .list-link:active,.user__tools-link:active,a.user__tools-link:active,a.user__tools-link.clicked,button.user__tools-link:active,.tabs__item:active,.btn-link:active,.user-tile__btn:active,.clicked,.tabs__item.clicked,.stnd-link.clicked,.header_links_fixer a:active,.clicked .stnd-link,.list-link.clicked,.dropdown-menu .list-link.clicked,label.user__tools-link.clicked,label.user__tools-link.clicked:hover,a.hover-item:active,.js-clicked .btn-single,.js-clicked .btn-single:hover,a.hover-item.clicked,.stnd-link:active,.stnd-link.attention_block:active,body .stnd-link_active,body .stnd-link_active:hover,.s-chb:active,.tile__bottom-link:active,.s-city__item:active,.c-letter__more-btn,.form-checkbox_dropdown-menu:active,.pgn__link_hover:active,.b-title__link:active,.s-city__item_city.clicked:active,.s-city__item_light.clicked:active,.s-city__item_country.clicked:active,.dropdown-menu .list-link.strong_clicked_active,.btn-main:active,.btn-block:active,a.item_clicked,a.item_clicked:hover,.js-dd_menu_link.strong_clicked,.user-tile__btn.js-clicked{background:#344047;-webkit-box-shadow:inset 0 3px 5px #293238;-moz-box-shadow:inset 0 3px 5px #293238;box-shadow:inset 0 3px 5px #293238}.tabs .clicked::before{display:none}.content-widget{background:#4d5961}.cnt_tabs{border:1px solid #becedd;color:#57a3ea}.drop-down-label:hover,.drop-down-label:hover .t,.drop-down-label.js-clicked:hover,.drop-down-label.js-clicked:hover .t{color:#61a961}.static-bl{background:#4d5961;border-bottom:1px solid #344047;color:#fff}.bg-white,.dropdown-menu .list-link{background:#4d5961}.sep-item{border-bottom:2px solid #344047}.table__cell_block{border-bottom:1px solid #344047}.btn-link{border:1px solid #344047;background:#4d5961}.anketa__rate-cnt,.sub-title{color:#fff}.cnt{border:1px solid #344047}.sub-title .cnt,.list-link-darkblue:active .cnt,.stnd-link_profile:active .cnt{color:#57a3ea}.btn-single{background:#4d5961;color:#fff}.stnd-link_important,.links-group .stnd-link_arr.list-link-blue{color:#fff!important}.block-item{background:#404a51}.pgn{background:#4d5961}.table_top_border{border-top:1px solid #344047!important}.oh break-word{color:#fff}.content,.list_spaced{background:#4d5961}.content-item3{color:#fff}.form-checkbox_full,.f-c_fll .form-checkbox{border-bottom:1px solid #344047}.user__tools-link{background:#4d5961}.list-link-blue,.stnd-link_important,.links-group .stnd-link_arr.list-link-blue{color:#fff}.stnd_padd{color:#fff}.form-checkbox_checked{color:#fff!important}.content-bl__sep,.content-bl__sep2,.text_anketa_sep{border-bottom:1px solid #344047}.action-bar{border-top:1px solid #344047}button.btn-main,input[type='submit'].btn-main,.btn-main:visited,.btn-main,.btn-block{background:#4d5961;color:#fff}.light_bg{background:#404a51}.toolbar td,.toolbar .hide td:last-child{border-right:1px solid #344047}.toolbar__wrap table{border:1px solid #344047}.toolbar .list-link{border-bottom:1px solid #344047}.text_distinguish{color:#57a3ea!important}.green,.green_link,.link-green,a.green_link span,#e0437eeb07 a{color:#56e456}.mail__button{background:#4d5961!important}.mail__button.disabled,.mail__button.disabled:focus,.mail__button.disabled:hover{background:#4d5961!important;color:#fff!important;opacity:unset}.mail__message_text.m_my_not_read{background:#344047}.pgn__button:hover,.mail__button:hover{background:#4d5961!important;color:#fff}.pgn__button,.mail__button{color:#fff}.color-black-light{color:#fff}.content-bl__top_sep{border-top:1px solid #344047}.b-title__edit-link::after,.b-title__edit-link::before{background:#344047}.ico_cats{background:url(https://"+L+"/src/darkmode/ico_cats.png) no-repeat}.ico_cats_news,.ico_cats_news_black{background-position:-80px -54px}.ico_cats_game,.ico_cats_game_black{background-position:-36px -178px}.ico_cats_humor,.ico_cats_humor_black{background-position:-134px 0}.ico_cats_programm,.ico_cats_programm_black{background-position:0 -144px}.ico_cats_internet,.ico_cats_internet_black{background-position:-18px -90px}.ico_cats_science,.ico_cats_science_black{background-position:-134px -72px}.ico_cats_auto,.ico_cats_auto_black{background-position:-169px -96px}.ico_cats_sport,.ico_cats_sport_black{background-position:-116px 0}.ico_cats_business,.ico_cats_business_black{background-position:-144px -144px}.ico_cats_hobby,.ico_cats_hobby_black{background-position:-126px -144px}.ico_cats_video,.ico_cats_cinema,.ico_cats_cinema_black{background-position:-152px -36px}.ico_cats_music,.ico_cats_music_black{background-position:-17px -126px}.ico_cats_design,.ico_cats_design_black{background-position:-34px -126px}.ico_cats_book,.ico_cats_book_black{background-position:-159px -160px}.ico_cats_philosophy,.ico_cats_philosophy_black{background-position:-152px -90px}.ico_cats_relationship,.ico_cats_relationship_black{background-position:0 -108px}.ico_cats_politic,.ico_cats_politic_black{background-position:-72px -144px}.ico_cats_education,.ico_cats_education_black{background-position:-134px -36px}.ico_cats_remont,.ico_cats_remont_black{background-position:-36px -72px}.ico_cats_remont,.ico_cats_remont_black{background-position:-36px -72px}.ico_cats_animal,.ico_cats_animal_black{background-position:-62px -18px}.ico_cats_cook,.ico_cats_cook_black{background-position:-187px 0}.ico_cats_moda,.ico_cats_moda_black{background-position:-98px 0}.ico_cats_health,.ico_cats_health_black{background-position:-54px -108px}.ico_cats_travel,.ico_cats_travel_black{background-position:-98px -54px}.ico_cats_spaces,.ico_cats_spaces_black{background-position:-33px -160px}.ico_cats_other,.ico_cats_other_black{background-position:-44px -18px}.ico_cats_dating,.ico_cats_dating_black{background-position:-169px -32px}.ico_cats_rpg,.ico_cats_rpg_black{background-position:-80px -18px}.ico_cats_house,.ico_cats_house_black{background-position:-124px -126px}.ico_cats_sex,.ico_cats_sex_black{background-position:-87px -160px}.ico_cats_photo,.ico_cats_photo_black{background-position:-116px -54px}.ico_cats_profession,.ico_cats_profession_black{background-position:-169px -141px}.ico_cats_subculture,.ico_cats_subculture_black{background-position:-54px -54px}.ico_cats_city,.ico_cats_city_black{background-position:-18px -36px}.ico_cats_gadget,.ico_cats_gadget_black{background-position:-187px -88px}.ico_chat{background:url(https://"+L+"/src/darkmode/ico_chat.png) no-repeat}.ico_journal,.ico_mail_underline,#mail_link span{background-position:-36px 0}.ico_rules,.ico_mail_italic,.voteUpCnt span{background-position:0 -18px}.ico_settings_black_blue,.ico_mail_bold,.voteDownCnt span{background-position:-18px 0}.ico_lock_open,#shared_link span.on{background-position:-54px -36px}.ico_lock,#shared_link span{background-position:-54px -18px}.ico_rings{background-position:0 -54px}",t.setAttribute("sp-darkmode","1  "),o.appendChild(t),T.darkModeNav)(t=U.qs("#SP_PLUS_DARKMODE_NAV")||U.ce("style",{id:"SP_PLUS_DARKMODE_NAV",type:"text/css"})).innerHTML="#left_nav{border-top: 1px solid #344047;}#navi,.sidebar-logo,.unauth_header,.horiz-placeholder,.horiz-menu_bottom{color:#fff;background:#344047;border-bottom:1px solid #344047;border-left:1px solid #344047;border-right:1px solid #344047}.footer{background-color:#344047}.footer__link{border-color:#283238}.footer__link_edit .footer__link,.footer__link_tool .footer__link,.footer__link_moder .footer__link{border-color:#283238}",t.setAttribute("sp-darkmode-nav","1"),o.appendChild(t)}else if(!T.darkMode&&t&&t.hasAttribute("sp-darkmode")&&!e){t.removeAttribute("sp-darkmode"),o.removeChild(t);var i=document.getElementById("SP_PLUS_DARKMODE_NAV");i&&o.removeChild(i)}}catch(e){U.console.error("Ошибка (DARKMODE): "+e.name+":"+e.message+"\n"+e.stack)}},darkModeNav:function(e){try{var t=document.getElementsByTagName("head").item(0),i=U.qs("#SP_PLUS_DARKMODE_NAV")||U.ce("style",{id:"SP_PLUS_DARKMODE_NAV",type:"text/css"}),o=U.ce("div",{id:"SP_DARKMODE_WRAP",class:"stnd-link",style:"border-bottom: unset;"}),n=U.ce("input",{type:"checkbox",id:"sp_darkMode_nav",class:"sp_plus_checkbox_el",checked:T.darkModeNav,onclick:function(e){T.darkModeNav=e.target.checked;var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null),i&&!i.hasAttribute("sp-darkmode-nav")&&e?(i.innerHTML="#left_nav{border-top: 1px solid #344047;}#navi,.sidebar-logo,.unauth_header,.horiz-placeholder,.horiz-menu_bottom{color:#fff;background:#344047;border-bottom:1px solid #344047;border-left:1px solid #344047;border-right:1px solid #344047}.footer{background-color:#344047}.footer__link{border-color:#283238}.footer__link_edit .footer__link,.footer__link_tool .footer__link,.footer__link_moder .footer__link{border-color:#283238}",i.setAttribute("sp-darkmode-nav","1"),t.appendChild(i)):!T.darkModeNav&&i&&i.hasAttribute("sp-darkmode-nav")&&(i.removeAttribute("sp-darkmode-nav"),t.removeChild(i))}}),a=U.ce("label",{attr:{for:"sp_darkMode_nav"},html:"Темный цвет шапки и подвала"});o.appendChild(n),o.appendChild(a),U.insertAfter(o,e.parentNode)}catch(e){U.console.error("Ошибка (DARKMODE-NAV): "+e.name+":"+e.message+"\n"+e.stack)}},setStyle:function(){var e=U.service(1)||"777",o=document.getElementsByTagName("head").item(0),t=U.qs("#SP_PLUS_INJSTYLE")||U.ce("style",{id:"SP_PLUS_INJSTYLE",type:"text/css"});if(t.innerHTML="@media (min-width: 1024px){.w400{max-width: 400px;}}#main_shadow, #top_info_block{border-left:unset}.border{border:1px solid #b4bed1}#check_point_full_info{background:#4d5961;box-shadow: 0 3px 5px #293238}.tree_element:hover > .ns, #debug .check_point:hover{background:#818f99}#debug{border:unset;background:#4d5961;}.disabled{cursor:not-allowed;}div.row4{color:#000}input[type=range]{background:transparent;height:0;-webkit-appearance:none;margin:10px 0;width:100%}input[type=range]:focus{outline:0}input[type=range]::-webkit-slider-runnable-track{width:100%;height:10px;cursor:pointer;animate:.2s;background:#395387;border-radius:32px;border:0 solid #000}input[type=range]::-webkit-slider-thumb{border:0 solid #2497E3;height:10px;width:10px;border-radius:4px;background:#395387;cursor:pointer;-webkit-appearance:none;margin-top:0}input[type=range]:focus::-webkit-slider-runnable-track{background:#D2E3F4}input[type=range]::-moz-range-track{-webkit-box-shadow:inset 0 1px 2px #7690c7;-moz-box-shadow:inset 0 1px 2px #7690c7;box-shadow:inset 0 1px 2px #7690c7;width:100%;height:10px;cursor:pointer;animate:.2s;background:#D2E3F4;border-radius:32px;border:0 solid #000}input[type=range]::-moz-range-thumb{border:0 solid #2497E3;height:10px;width:10px;border-radius:4px;background:#395387;cursor:pointer}input[type=range]::-ms-track{width:100%;height:10px;cursor:pointer;animate:.2s;background:0 0;border-color:transparent;color:transparent}input[type=range]::-ms-fill-lower{background:#D2E3F4;border:0 solid #000;border-radius:64px}input[type=range]::-ms-fill-upper{background:#D2E3F4;border:0 solid #000;border-radius:64px}input[type=range]::-ms-thumb{margin-top:1px;border:0 solid #2497E3;height:10px;width:10px;border-radius:4px;background:#395387;cursor:pointer}input[type=range]:focus::-ms-fill-lower{background:#D2E3F4}input[type=range]:focus::-ms-fill-upper{background:#D2E3F4}input[type=range]::-moz-range-progress{border-radius:4px;height:10px;background-color:#395387}input[type=range]::-ms-fill-lower{border-radius:4px;height:10px;background-color:#395387}.brdtop{border-top:1px solid #c5d3e1}#SP_PLUS_SETAREA{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}details summary:hover{cursor:pointer}.sp_plus_alert_y{border:1px solid #cdd4e1;border-radius:5px;color:#7a90a0;display:block;font-family:sans-serif;font-weight:700;height:auto;padding:17px;position:fixed;text-align:center;margin-left:-156px;top:10%;left:50%;max-height:80%;width:275px;z-index:99999;background:#fff;-webkit-box-shadow:0 3px 5px rgba(93,109,157,.3);-moz-box-shadow:0 3px 5px rgba(93,109,157,.3);box-shadow:0 3px 5px rgba(93,109,157,.3)}.null{display:none!important}.sp_plus_alertg,.sp_plus_small{background-color:#ddebf7}.sp_plus_small{margin:2px;color:#000;display:block;padding:3px;border-radius:2px}.sp_plus_small img{height:auto!important}.sp_plus_a{text-decoration:none!important;border-bottom:1px dashed}.sp_plus_alertr{background-color:#f9e1d9;color:#ff6837}.sp_plus_alertg,.sp_plus_alertr{background-clip:border-box;background-image:none;background-origin:padding-box;box-shadow:rgba(57,83,135,.3) 0 3px 5px 0;display:block;padding:10px;position:relative;font-size:13px}.ico_history_black,a:hover .ico_history_blue,a:active .ico_history{background-position:-306px -54px}.sp_plus_ico_alert,.sp_plus_ico_del,.sp_plus_ico_info,.sp_plus_ico_okb,.sp_plus_ico_fav_off,.sp_plus_ico_fav_on{background-color:transparent;background-image:url("+C+"//spac.me/i/ico.png?r="+e+");cursor:pointer;display:inline-block;height:16px;margin-bottom:2px;margin-right:4px;vertical-align:middle;text-align:center;width:16px}.sp_plus_ico_del{background-position:-198px -256px}.sp_plus_ico_okb{background-position:-122px -198px}.sp_plus_ico_alert{background-position:-108px -364px;cursor:default}.sp_plus_ico_info{background-position:-142px -52px;cursor:default}.sp_plus_ico_fav_off{background-position:-216px -256px}.sp_plus_ico_fav_on{background-position:-252px -256px}.sp_plus_button{cursor:pointer;background:#fff}.sp_plus_button:hover{background:#ecf5fd}.sp_plus_checkbox+label,.sp_plus_checkbox_el+label,.sp_plus_checkbox_radio+label{position:relative;overflow:hidden;cursor:pointer;text-decoration:none!important}.sp_plus_checkbox+label{margin-left:5px;padding:0 4px;vertical-align:top;width:16px;height:16px;display:inline-block}.sp_plus_checkbox_el+label,.sp_plus_checkbox_radio+label{padding:12px 5px 12px 25px}.sp_plus_checkbox+label:before,.sp_plus_checkbox_el+label:before{position:absolute;display:inline-block;content:'';background-position:-72px -220px;width:16px;height:16px;background-color:transparent;background-image:url("+C+"//spac.me/i/ico.png?r="+e+")}.sp_plus_checkbox+label:before,.sp_plus_checkbox_radio+label:before{position:absolute;display:inline-block;content:'';background-position:-252px -36px;width:16px;height:16px;background-color:transparent;background-image:url("+C+"//spac.me/i/ico.png?r="+e+")}.sp_plus_checkbox_el+label:before{left:3px;top:12px}.sp_plus_checkbox_radio+label:before{left:3px;top:12px}.sp_plus_checkbox+label:before{top:8px;margin-top:-8px}.sp_plus_checkbox:checked+label:before,.sp_plus_checkbox_el:checked+label:before,.sp_plus_checkbox_radio:checked+label:before{background-position:-252px -108px}.sp_plus_checkbox,.sp_plus_checkbox_el,.sp_plus_checkbox_radio{position:absolute;left:-10000px}.sp_plus_line>span{background:#fff;padding:0 5px;position:relative;margin:0 10px;display:inline-block}.sp_plus_line:before{content:'';display:block;border-bottom:1px solid #cdd4e1;left:0;right:0;top:50%;position:absolute}.sp_plus_line{text-align:center;position:relative;font-weight:700}.sp_plus_text{color:#395387}.sp_plus_liness{border-top:1px solid #344047!important}.bstrwrap{border-bottom:unset!important;border-top:1px solid #cdd4e1}.ico_demo{background-position:-414px -130px}input[type='color']{opacity:0;cursor:pointer}.sp_btn_line{border-right:1px solid #cdd4e1}.ico_backup{display:inline-block;background:url(data:image/png;base64,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) no-repeat;width:16px;height:16px;margin:0 4px -3px 0}.sp_plus_ico_ref{display:inline-block;background:url(data:image/png;base64,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)no-repeat;width:16px;height:16px;margin:0 4px -3px 0}",T.bodystyle&&(T.bodystyleSetting.url&&T.bodystyleSetting.urlchecked&&(t.innerHTML+="body,#main_wrap{background-image:url("+T.bodystyleSetting.url+")}"),T.bodystyleSetting.color&&T.bodystyleSetting.colorchecked&&(t.innerHTML+="body,#main_wrap{background-color:"+T.bodystyleSetting.color+"}")),T.msgAlert){if(T.msgAlertSettings.animDelay&&T.msgAlertSettings.alertPosition){var i,n;switch(T.msgAlertSettings.alertPosition){case"1":i="bottom: 0px; right: 0px; top:0px; left:0px; height: 1px; width: 1px;",n="margin-bottom: 10px;";break;case"2":i="top: 0px; right: 0px; height: 1px;",n="margin-bottom: 10px;";break;case"3":i="bottom: 0px; left: 0px; width: 1px;",n="margin-top: 10px;";break;default:i="bottom: 0px; right: 0px;",n="margin-top: 10px;"}t.innerHTML+=".mailBox{border-radius:2px; border:1px solid #cdd4e1; background:#fff; box-shadow:0 0 10px rgba(0,0,0,0.5); text-decoration:none !important; display:block; width:280px; height:auto; "+n+" -webkit-animation: create 2s; animation: create "+T.msgAlertSettings.animDelay+"s} .mailContainer {z-index: 99999; position: fixed; "+i+" padding: 10px} .mailBox .data {display: inline-block; position: absolute; padding-top: 5px;} .mailBox .avatar {width: 64px; padding-right: 5px; border-radius:2px; margin-bottom: -3px;} .text>img {display: inline-block;}.text>div.image_limit {width: 28px; display: inline-block;} .mailBox .name {line-height: 20px; font-weight: bold;} .mailBox .text {white-space: nowrap; text-overflow: ellipsis; overflow: hidden; color: #323232; width: 195px; font-size: small;} @-webkit-keyframes create {0% {opacity: 0;} 100% {opacity: 1;}} @-webkit-keyframes destroy {0% {opacity: 1;} 100% {opacity: 0;}}}"}o.appendChild(t)}},backup:function(e){window.scrollTo(0,0);var n=U.qs(e);if(n)try{var a;n.innerHTML="";var s=U.ce("div",{class:"content-bl"}),r=U.ce("div",{class:"text-input__wrap"}),l=U.ce("div",{class:"stnd-block-yellow",style:"padding: 15px;",html:'<span class="ico ico_alert"></span> Invalid JSON!<br /><br />'}),c=U.ce("div",{class:"cl"}),p=U.ce("div",{class:"widgets-group user__tools_last",id:"SP_PLUS_BOTTOM_DIVB"}),d=U.ce("button",{class:"user__tools-link table__cell sp_btn_line",style:"width: 50%; display: inline-block; box-sizing: border-box;",html:'<span class="sp_plus_ico_ref"></span><span style="color: #3ca93c;">Восстановить</span>',onclick:function(){return U.confirmm("Восстановить файл конфигурации?",function(){U.delCookie("SP_PLUS_SET"),document.location.reload()}),!1}}),_=U.ce("button",{class:"user__tools-link table__cell",style:"width: 50%; display: inline-block; box-sizing: border-box;",html:'<span class="sp_plus_ico_okb"></span><span style="color: #57A3EA;">Сохранить</span>',onclick:function(){return U.setCookie("SP_PLUS_SET",a.value,null),document.location.reload(),!1}});params="value="+JSON.stringify(T),U.ajax("https://crashmax.ru/api/getJSON","POST",params,function(e){if(e){var o=U.extend({result:{valid:0,jsoncopy:"",errors:{code:0,message:"",element:0}}},JSON.parse(e));if(a=U.ce("textarea",{class:"text-input",id:"SP_BACKUP_JSON",cols:"17",rows:"49",html:o.result.jsoncopy}),1==o.result.valid)n.appendChild(s),s.appendChild(r),r.appendChild(c),c.appendChild(a);else{n.appendChild(l);for(var t=0;t<o.result.errors.length;t++){var i=document.createElement("div");i.style="padding-left: 30px; font-size: small;",i.innerHTML="<b>Error:</b> "+o.result.errors[t].message+" [Code: "+o.result.errors[t].code+", Sctructure: "+o.result.errors[t].element+"]<br />",l.appendChild(i)}}n.appendChild(s),s.appendChild(r),r.appendChild(c),c.appendChild(a),p.appendChild(d),p.appendChild(_),U.inBefore(p,U.qs("#SP_PLUS_SETBACK"))}})}catch(e){U.console.error("Ошибка (BACKUP_SETTINGS): "+e.name+":"+e.message+"\n"+e.stack)}},changeLog:function(e){window.scrollTo(0,0);var o=U.qs(e);if(o)try{o.innerHTML="";var a=U.ce("div",{class:"content-bl"}),s=U.ce("span",{style:"font-size:small"}),r=U.ce("div",{style:"padding-left: 30px; font-size: small;"});o.appendChild(a),a.appendChild(s),a.appendChild(r),U.ajax("https://"+L+"/updater.json","GET",null,function(e){if(e)for(var o=U.extend({latest:{build:0,date:"",changes:""},history:{build:0,date:"",changes:""}},JSON.parse(e)),t=0;t<o.history.length;t++){s.innerHTML="<b>Сборка "+U.rever(o.latest.build)+" - ("+o.latest.date+")</b><br />",r.innerHTML=o.latest.changes;var i=document.createElement("span"),n=document.createElement("div");i.style="font-size: small;",n.style="padding-left: 30px; font-size: small;",i.innerHTML="<b>Сборка "+U.rever(o.history[t].build)+" - ("+o.history[t].date+")</b><br />",n.innerHTML=o.history[t].changes,a.appendChild(i),a.appendChild(n)}})}catch(e){U.console.error("Ошибка (CHANGELOG_ALERT): "+e.name+":"+e.message+"\n"+e.stack)}},update:function(){U.ajax("https://"+L+"/updater.json","GET",null,function(e){if(e){var t=U.extend({latest:{build:0,changes:""}},JSON.parse(e)),o=0;if(T.hideUp&&(o=parseInt(T.hideUp,10)),E=Math.max(o,E),t.latest.build>E&&(U.alert("Доступна новая версия Spaces+ <sup>"+U.rever(t.latest.build)+'</sup><div class="pad_t_a"></div><small>'+t.latest.changes+'</small><div id="SP_UPDATER_BUTTONS" class="pad_t_a"><a class="btn btn_green btn_input" href="http://'+L+'/spaces_plus.user.js" onclick="document.body.removeChild(this.parentNode.parentNode.parentNode); return true;"> Обновить</a></div>',1,1),U.qs("#SP_PLUS_ALERT"))){var i=U.ce("a",{href:"#",class:"btn btn_white btn_input right sticker-close_btn",html:"Больше не показывать",onclick:function(e){T.hideUp=t.latest.build;var o=JSON.stringify(T);return U.setCookie("SP_PLUS_SET",o,null),document.body.removeChild(e.target.parentNode.parentNode.parentNode),!1}});U.qs("#SP_UPDATER_BUTTONS").appendChild(i)}}},4)},msgAlertSettings:function(e){var o=U.ce("div",{id:"SP_PLUS_MSGALERTSETTINGS",style:"padding: 11px 15px; border-bottom: unset;"}),t=U.ce("input",{type:"text",class:"text-input",size:4,value:T.msgAlertSettings.maxAlert});t.onchange=t.oninput=function(e){if(""!=e.target.value){T.msgAlertSettings.maxAlert=e.target.value;var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null)}};var i=U.ce("input",{type:"text",class:"text-input",size:4,value:T.msgAlertSettings.alertPosition});i.onchange=i.oninput=function(e){if(""!=e.target.value){T.msgAlertSettings.alertPosition=e.target.value;var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null)}};var n=U.ce("label",{html:'Расположение на экране:<div class="label__desc">от 1 до 4</div>',class:"label"}),a=U.ce("label",{html:'Максимум сообщений на экране:<div class="label__desc">от 1 до 5</div>',class:"label"}),s=U.ce("input",{type:"text",class:"text-input",size:4,value:T.msgAlertSettings.alertDelay});s.onchange=s.oninput=function(e){if(""!=e.target.value){T.msgAlertSettings.alertDelay=e.target.value;var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null)}};var r=U.ce("label",{html:'Время отображения сообщения (0 - бесконечно):<div class="label__desc">от 0 до 5</div>',class:"label"}),l=U.ce("input",{type:"text",class:"text-input",size:4,value:T.msgAlertSettings.animDelay});l.onchange=l.oninput=function(e){if(""!=e.target.value){T.msgAlertSettings.animDelay=e.target.value;var o=JSON.stringify(T);U.setCookie("SP_PLUS_SET",o,null),U.setStyle()}};var c=U.ce("label",{html:'Время появления и исчезания сообщения:<div class="label__desc">от 1 до 5</div>',class:"label"});o.appendChild(a),o.appendChild(t),o.appendChild(n),o.appendChild(i),o.appendChild(c),o.appendChild(l),o.appendChild(r),o.appendChild(s),U.insertAfter(o,e.parentNode)},msgAlert:function(m){1==m.act&&(params="Contact="+m.data.contact.nid+"&MeSsages="+m.data.nid+"&Pag=0&_origin="+encodeURI(C+"//"+P)+"&method=getMessagesByIds",U.ajax(C+"//"+P+"/neoapi/mail","POST",params,function(_){if(-1!=window.location.href.indexOf(C+"//"+P+"/mail/message_list/?Contact="+m.data.contact.nid))return!1;_=JSON.parse(_);var b,u,g=Object.keys(_.messages)[0];b=null!=m.data.contact.user?(null==_.messages[g].contact.avatar?U.jajax(C+"//"+P+"/mysite/?name="+m.data.contact.user,function(e){e=JSON.parse(e);u=e.owner_widget.photo_widget.previewURL}):u=_.messages[g].contact.avatar.previewURL,m.data.contact.user):(u="https://"+L+"/src/spaces/talk.jpg",_.messages[g].subject?_.messages[g].contact.name:_.messages[g].contact.widget.siteLink.user_name+" ["+_.messages[g].contact.name+"]");var k=setInterval(function(){if(null!=u){clearInterval(k);var e,o=U.ce("div",{class:"mailContainer"});document.getElementsByClassName("mailContainer")[0]?o=document.getElementsByClassName("mailContainer")[0]:document.body.appendChild(o);var t=!1,i=1e3*T.msgAlertSettings.animDelay,n=1e3*T.msgAlertSettings.alertDelay,a=T.msgAlertSettings.maxAlert,s=U.ce("a",{class:"mailBox",href:"#",id:m.data.nid,onclick:function(){if(!t)return U.setLocation(C+"//"+P+"/mail/message_list/?Contact="+m.data.contact.nid),o.removeChild(s),!(t=!0)}}),r=U.ce("div",{class:"data"}),l=U.ce("div",{class:"name",html:b}),c=U.ce("div",{class:"text",html:_.messages[g].text}),p=U.ce("img",{class:"avatar",src:u}),d=U.ce("img",{src:C+"//spac.me/i/remove.png",style:"padding: 5px;",class:"right notif_close",onclick:function(){t||(clearTimeout(e),o.removeChild(s),t=!0)}});document.querySelectorAll(".mailContainer a").length>a-1&&o.removeChild(o.firstChild),r.appendChild(l),r.appendChild(c),s.appendChild(d),s.appendChild(p),s.appendChild(r),o.appendChild(s),0!=n&&(e=setTimeout(function(){document.getElementById(s.id)&&(t=!0,s.style="animation: destroy "+i/1e3+"s;",setTimeout(function(){o.removeChild(s)},i))},n))}},500)},4,!0))},preloadModifer:function(){var o=!1,t=window;if("undefined"!=typeof unsafeWindow&&"firefox"==unsafeWindow.Device.browser&&"desktop"==unsafeWindow.Device.type&&(t=unsafeWindow,o=!0),T.msgAlert)var i=setInterval(function(){if("boolean"==typeof t.pushstream._keepConnected&&t.pushstream._keepConnected){clearInterval(i);var e=new Proxy(t.Spaces.PushStream.prototype._onmessage,{apply:function(e,o,t){U.msgAlert(t[0])}});o?exportFunction(e,t.Spaces.PushStream.prototype,{defineAs:"_onmessage"}):t.Spaces.PushStream.prototype._onmessage=e}},500)},fastAccess:function(){var e=U.find(document.links,{href:C+"//"+P+"/services/?"});if(e){var o=U.ce("li",{class:"li",html:'<a href="'+C+"//"+P+'/settings/?sp_plus_settings=1" title="Настройки Spaces+"><span class="s_i s_i_spaceplus s_i_options"></span><span class="m s_i_text"> Spaces+</span></a>'});e=e[0].parentNode,U.insertAfter(o,e),"BR"==e.nextElementSibling.nodeName&&U.insertAfter(U.ce("br",null),o)}},freeSticker:function(e){var o=U.qs("#SP_PLUS_STICKER");if(o)document.getElementsByTagName("head")[0].removeChild(o),document.location.reload();else{var t=U.ce("script",{type:"text/javascript",id:"SP_PLUS_STICKER",html:'var open=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(e,o,t){var n=open.apply(this,arguments);return-1==o.indexOf("mail/sendMessage")&&-1==o.indexOf("diary/new")&&-1==o.indexOf("comments/add")||this.setRequestHeader("X-Proxy","spaces"),n};'});document.getElementsByTagName("head")[0].appendChild(t)}},start:function(){if(T.blocked&&U.bannedTools(),T.comments&&U.comments(),T.blogsd&&U.blogsDelete(),T.readersd&&U.readersDelete(),T.online&&U.online(),T.fixes&&U.allFixes(),T.ads&&U.adsRemove(),T.favorite&&U.favorite(),T.friendsOn&&U.friendsOnline(1),T.rscroll&&U.scrollMove(1),T.hrightbar&&U.hiddenRightbar(1),T.coins&&U.coins(),T.karma&&U.karmaAccept(),T.darkMode&&U.darkMode(1),T.myEvents&&U.events(),T.playerdn)U.playerDown();else if(!T.playerdn&&0<=d){d=-1;var e=U.qs("#SP_MUSIC_DOWN");e&&U.remove(e)}U.settings()},init:function(){U.readSettings(),U.setStyle(),U.update(),U.start(),U.fastAccess(),T.sticker&&U.freeSticker(),w=setInterval(function(){null==window.Device&&null==unsafeWindow.Device||(clearInterval(w),U.preloadModifer())},500),setInterval(function(){U.start()},200)}}).init()}();